{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/breakpoints.json","src/js/app.js","src/js/components/menu.js","src/js/components/scroll-container.js","src/js/components/toggle-button.js","src/js/decorators.js","src/js/scroll/scroll-controller.js","src/js/scroll/scroll-scene.js","src/js/scroll/scroll-view.js","src/js/scroll/utils.js","src/js/utils.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","sm","md","lg","xl","xxl","_utils","_menu","_interopRequireDefault","_scrollContainer","_toggleButton","App","components","document","querySelectorAll","forEach","el","names","getAttribute","split","name","component","find","componentName","console","error","concat","existing","getData","loadedComponents","setData","debug","options","eval","ex","Constructor","obj","push","_decorators","Menu","element","_classCallCheck","this","scrollContainer","findComponent","anchors","bindAnchors","_scrollView","_breakpoints","ScrollContainer","view","container","smoothScrolling","breakpoints","sidebar","querySelector","registerSceneModifier","domScene","duration","offsetHeight","onEnter","pin","tween","TweenMax","from","xPercent","newSmoothScrolling","arguments","ToggleButton","_this","_isActive","addEventListener","_updateState","innerText","classList","remove","add","target","_smoothScrollbar","_scrollmagic","ScrollController","_container","_options","_scenes","_scrollbarListeners","hash","location","requestAnimationFrame","setTimeout","scrollTo","_scrollbar","scrollIntoView","offsetTop","containerEl","scrollTop","_controller","_smoothScrolling","_removeAllScenes","_destroyController","Controller","Object","assign","refreshInterval","_createScrollbars","newPos","to","y","ease","Power4","easeOut","_removeScrollbars","_addAllScenes","targetId","offset","scrollPos","scene","addTo","filter","current","listener","addListener","removeListener","_this2","init","damping","addScrollbarListener","refresh","_this3","destroy","_this4","ScrollScene","_pinnedElement","_pinnedEnterListener","_pinnedLeaveListener","_pinnedScrollListener","_scene","Scene","params","setTween","classes","setClassToggle","reset","removePin","callback","on","addIndicators","controller","elementPosY","_ref","elementOffsetY","getBoundingClientRect","top","triggerOffsetY","triggerElement","triggerPosY","triggerHook","scrollPosY","width","parseInt","style","position","removeScrollbarListener","setPin","off","newTriggerElement","newTriggerHook","newDuration","newProgress","progress","_scrollController","_scrollScene","_gsap","ScrollView","window","_content","children","_helper","PropertyHelper","_defaults","parallax","enabled","type","speed","momentum","stagger","trigger","parentNode","hook","indicator","reverse","classToggle","animation","transition","repeat","yoyo","delay","label","alpha","x","yPercent","scale","rotation","defaults","_domElements","_tweens","_sceneModifiers","_contentScene","BreakpointListener","screenSize","hasChanged","addScene","_rebuild","anchor","id","currentTarget","preventDefault","section","modifierName","modifierFunction","_resetScenes","_buildParallaxScenes","_buildScenes","domScenes","isEnabled","getSceneProperty","_applySceneModifier","_createAnimation","_this5","TimelineMax","domElements","domElement","getAnimationProperty","animationProps","autoAlpha","extraProps","fromProps","_buildState","toProps","hasProperties","staggerFromTo","staggerFrom","staggerTo","fromTo","modifier","undefined","_this6","globalItems","sceneItems","getParallaxProperty","item","parallaxType","set","clearProps","_buildGlobalParallax","_buildScenesParallax","items","_this7","_updateParallaxItems","getScrollPos","_this8","during","startPos","delta","offsetY","_this9","clear","removeScene","stateKey","properties","state","keys","key","windowWidth","innerWidth","timeout","checkView","slice","value","clearTimeout","newValue","property","defaultValue","screenWidth","getDataProperty","data","componentClass","createElement","animations","OAnimation","MozAnimation","WebkitAnimation","transitions","OTransition","MozTransition","WebkitTransition","min","max","Math","random","lastId","store","WeakMap","info","myCustomDataTag","get","Timer","timerId","start","remaining","pause","Date","resume"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports={\n  \"sm\": 480,\n  \"md\": 1024,\n  \"lg\": 1200,\n  \"xl\": 1600,\n  \"xxl\": 2000\n}\n","import { getData, setData } from './utils';\n\nimport Menu from './components/menu';\nimport ScrollContainer from './components/scroll-container';\nimport ToggleButton from './components/toggle-button';\n\n\nlet App = {\n  components: [\n    Menu,\n    ScrollContainer,\n    ToggleButton\n  ]\n};\n\n(() => {\n  // Bind components\n  document.querySelectorAll('[data-component]').forEach(el => {\n    let names = el.getAttribute('data-component').split(',');\n    names.forEach(name => {\n      let component = App.components.find(c => c.componentName === name);\n      if (!component) {\n        console.error(`[App] Component \"${name}\" is not defined`);\n        return false;\n      } else {\n        let existing = getData(el) && getData(el).loadedComponents;\n        if (!existing) {\n          existing = [];\n          setData(el, { loadedComponents: existing })\n        }\n        if (!(name in getData(el).loadedComponents)) {\n          let options;\n          try {\n            options = eval('(' + el.getAttribute('data-component-options') + ')') || {};\n          } catch (ex) {\n            options = {};\n          }\n          let Constructor = component;\n          let obj = new Constructor(el, options);\n          existing.push(name);\n          setData(el, { component: obj })\n          console.debug(`[App] Component \"${name}\" loaded.`);\n        } else {\n          console.debug(`[App] Component \"${name}\" already loaded`);\n        }\n      }\n    });\n  });\n})();\n","import { component } from '../decorators';\nimport { findComponent } from '../utils';\nimport ScrollContainer from './scroll-container';\n\n\n@component('menu')\nclass Menu {\n  constructor(element) {\n    const scrollContainer = findComponent(ScrollContainer);\n    if (scrollContainer) {\n      const anchors = element.querySelectorAll('a[href^=\"#\"]');\n      scrollContainer.bindAnchors(anchors);\n    }\n  }\n};\n\nexport default Menu;\n","import { component } from '../decorators';\n\nimport ScrollView from '../scroll/scroll-view';\nimport breakpoints from '../../breakpoints';\n\n\n@component('scrollContainer')\nclass ScrollContainer {\n  constructor(element) {\n    this.view = new ScrollView({\n      container: element,\n      smoothScrolling: false,\n      breakpoints: breakpoints\n    });\n\n    const sidebar = document.querySelector('.scene__sidebar');\n    this.view.registerSceneModifier('pin-content',\n      function (domScene) {\n        return {\n          duration: sidebar.offsetHeight - domScene.offsetHeight,\n          onEnter: function () {\n            this.duration(sidebar.offsetHeight - domScene.offsetHeight);\n          },\n          pin: domScene\n        }\n      });\n\n    this.view.registerSceneModifier('slide-in-sidebar',\n      function (domScene) {\n        return {\n          tween: TweenMax.from(domScene, 1, {\n            xPercent: 100\n          })\n        }\n      });\n\n    // this.view.addScrollListener(e => {\n    //   console.log('progress', e.progress);\n    // });\n  }\n\n  bindAnchors(anchors) {\n    this.view.bindAnchors(anchors);\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this.view.smoothScrolling();\n    } else {\n      this.view.smoothScrolling(newSmoothScrolling);\n    }\n  }\n};\n\nexport default ScrollContainer;\n","import { component } from '../decorators';\nimport { findComponent } from '../utils';\nimport ScrollContainer from './scroll-container';\n\n\n@component('toggleButton')\nclass ToggleButton {\n  constructor(element) {\n    this.element = element;\n\n    const scrollContainer = findComponent(ScrollContainer);\n    if (scrollContainer) {\n      this._isActive = scrollContainer.smoothScrolling();\n\n      this.element.addEventListener('click', () => {\n        this._isActive = !this._isActive;\n\n        scrollContainer.smoothScrolling(this._isActive);\n\n        this._updateState();\n      });\n\n      this._updateState();\n    } else {\n      console.error('[ToggleButton] Couldn\\'t find ScrollContainer component.');\n    }\n  }\n\n  _updateState() {\n    if (this._isActive) {\n      this.element.querySelector('span').innerText = 'On';\n      this.element.querySelector('span').classList.remove('off');\n      this.element.querySelector('span').classList.add('on');\n    } else {\n      this.element.querySelector('span').innerText = 'Off';\n      this.element.querySelector('span').classList.remove('on');\n      this.element.querySelector('span').classList.add('off');\n    }\n  }\n};\n\nexport default ToggleButton;\n","export function component(name) {\n  return function (target) {\n    target.componentName = name;\n  }\n}\n","import Scrollbar from 'smooth-scrollbar';\nimport ScrollMagic from 'scrollmagic';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap';\nimport 'gsap/ScrollToPlugin';\n\n\n/**\n * ScrollController\n * \n * This is a wrapper for ScrollMagic controller class. It adds a smooth scrolling option and\n * some util methods.\n * \n * @param {*} options\n */\nclass ScrollController {\n  constructor(options) {\n    this._container = options.container;\n    this._options = options;\n\n    // These lists keep scenes and scrollbar listeners, so that when we turn on/off the smooth scrolling,\n    // they are removed/added to the new controller.\n    this._scenes = [];\n    this._scrollbarListeners = [];\n\n    this.smoothScrolling(this._options.smoothScrolling);\n\n    // Scroll to when loading page with hashtag\n    // https://github.com/idiotWu/smooth-scrollbar/issues/128#issuecomment-390980479\n    const hash = location.hash;\n    if (hash) {\n      requestAnimationFrame(() => {\n        setTimeout(() => {\n          this._container.scrollTo(0, 0);\n          if (this.smoothScrolling()) {\n            this._scrollbar.scrollIntoView(document.querySelector(hash), {\n              offsetTop: -this._scrollbar.containerEl.scrollTop\n            });\n          } else {\n            this._controller.scrollTo(hash);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  controller() {\n    return this._controller;\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this._smoothScrolling;\n    } else {\n      this._removeAllScenes();\n      this._destroyController();\n\n      this._smoothScrolling = newSmoothScrolling;\n\n      delete this._options.smoothScrolling;\n\n      if (newSmoothScrolling) {\n        console.debug('[ScrollController] Smooth scrolling activated');\n\n        this._controller = new ScrollMagic.Controller(Object.assign(this._options, { refreshInterval: 0 }));\n\n        this._createScrollbars();\n      } else {\n        console.debug('[ScrollController] Common scrolling activated');\n\n        this._controller = new ScrollMagic.Controller(this._options);\n\n        this._controller.scrollTo(function (newPos) {\n          TweenMax.to(this, 2, {\n            scrollTo: {\n              y: newPos\n            },\n            ease: Power4.easeOut\n          });\n        });\n\n        this._removeScrollbars();\n      }\n\n      this._addAllScenes();\n    }\n  }\n\n  scrollTo(targetId) {\n    if (this.smoothScrolling()) {\n      const element = this._container.querySelector(targetId);\n      if (element) {\n        this._scrollbar.scrollIntoView(element);\n      }\n    } else {\n      this._controller.scrollTo(targetId);\n    }\n  }\n\n  getScrollPos() {\n    if (this.smoothScrolling()) {\n      return this._scrollbar.offset.y;\n    }\n    return this._controller.scrollPos();\n  }\n\n  addScene(scene) {\n    scene.addTo(this);\n    this._scenes.push(scene);\n  }\n\n  removeScene(scene) {\n    scene.remove();\n\n    this._scenes = this._scenes.filter(function (current) {\n      return current !== scene;\n    });\n  }\n\n  addScrollbarListener(listener) {\n    if (this._scrollbar) {\n      this._scrollbar.addListener(listener);\n\n      this._scrollbarListeners.push(listener);\n    }\n  }\n\n  removeScrollbarListener(listener) {\n    if (this._scrollbar) {\n      this._scrollbar.removeListener(listener);\n\n      this._scrollbarListeners = this._scrollbarListeners.filter(function (current) {\n        return current !== listener;\n      });\n    }\n  }\n\n  _createScrollbars() {\n    this._scrollbar = Scrollbar.init(this._container, {\n      damping: 0.05\n    });\n\n    this.addScrollbarListener(() => this._scenes.forEach(scene => scene.refresh()));\n  }\n\n  _removeScrollbars() {\n    if (this._scrollbar) {\n      this._scrollbarListeners.forEach(listener => this._scrollbar.removeListener(listener));\n      this._scrollbarListeners = [];\n      this._scrollbar.destroy();\n    }\n  }\n\n  _addAllScenes() {\n    this._scenes.forEach(scene => scene.addTo(this));\n  }\n\n  _removeAllScenes() {\n    this._scenes.forEach(scene => scene.remove());\n  }\n\n  _destroyController() {\n    if (this._controller) {\n      if (this.smoothScrolling()) {\n        console.debug('[Controller] Removed smooth scrolling');\n      } else {\n        console.debug('[Controller] Removed common scrolling');\n      }\n      this._controller.destroy(true);\n    }\n  }\n};\n\nexport default ScrollController;\n","import ScrollMagic from 'scrollmagic';\n\n\n/**\n * ScrollScene\n * \n * This is a wrapper for ScrollMagic scene class. It makes scene work with smooth scrolling.\n * \n * @param {*} options\n */\nclass ScrollScene {\n  constructor(options) {\n    this._options = options;\n\n    this._controller = null;\n\n    this._pinnedElement = null;\n    this._pinnedEnterListener = null;\n    this._pinnedLeaveListener = null;\n    this._pinnedScrollListener = null;\n\n    this._scene = new ScrollMagic.Scene(this._options);\n\n    return this;\n  }\n\n  setTween(tween, duration, params) {\n    if (arguments.length > 1) {\n      if (arguments.length < 3) {\n        params = duration;\n        duration = 1;\n      }\n      tween = TweenMax.to(tween, duration, params);\n    }\n    this._scene.setTween(tween);\n    return this;\n  }\n\n  setClassToggle(element, classes) {\n    this._scene.setClassToggle(element, classes);\n    return this;\n  }\n\n  setPin(element) {\n    this._pinnedElement = element;\n    return this;\n  }\n\n  removePin(reset) {\n    this._scene.removePin(reset);\n    return this;\n  }\n\n  on(names, callback) {\n    this._scene.on(names, callback);\n    return this;\n  }\n\n  addIndicators(options) {\n    this._scene.addIndicators(options);\n    return this;\n  }\n\n  addTo(controller) {\n    this._controller = controller;\n\n    if (this._pinnedElement) {\n      /**\n       * Workaround\n       * \n       * Only in the case we're using smooth scrolling.\n       * \n       * Since transform creates a new local coordinate system, position: fixed is fixed to the origin\n       * of scrollbar content container, i.e. the left: 0, top: 0 point.\n       * \n       * Therefore, we need to apply offsets to make it work properly.\n       * https://github.com/idiotWu/smooth-scrollbar/issues/49#issuecomment-265358197\n       */\n      if (this._controller.smoothScrolling()) {\n        let elementPosY = 0;\n\n        this._pinnedScrollListener = ({ offset }) => {\n          if (elementPosY === 0) {\n            const elementOffsetY = this._pinnedElement.getBoundingClientRect().top;\n            const triggerOffsetY = this._scene.triggerElement().getBoundingClientRect().top;\n            const triggerPosY = this._scene.duration() * this._scene.triggerHook();\n\n            elementPosY = elementOffsetY - triggerOffsetY + triggerPosY;\n          }\n\n          const scrollPosY = offset.y;\n\n          const top = elementPosY + scrollPosY;\n          const width = parseInt(this._pinnedElement.getBoundingClientRect().width);\n\n          this._pinnedElement.style.position = 'fixed';\n          this._pinnedElement.style.top = `${top}px`;\n          this._pinnedElement.style.width = `${width}px`;\n        };\n\n        this._pinnedEnterListener = () => this._controller.addScrollbarListener(this._pinnedScrollListener);\n        this._pinnedLeaveListener = () => this._controller.removeScrollbarListener(this._pinnedScrollListener);\n\n        this._scene.on('enter', this._pinnedEnterListener);\n        this._scene.on('leave', this._pinnedLeaveListener);\n      } else {\n        this._scene.setPin(this._pinnedElement);\n      }\n    }\n\n    this._scene.addTo(controller.controller());\n    return this;\n  }\n\n  remove() {\n    this._scene.remove();\n\n    /**\n     * Workaround\n     * \n     * Only in the case we're using smooth scrolling.\n     * \n     * Since we're adding listeners to emulate the same pin feature that ScrollMagic has, when removing the scene,\n     * we need to remove these listeners and reset the element position.\n     */\n    if (this._pinnedElement && this._controller && this._controller.smoothScrolling()) {\n      this._scene.off('enter', this._pinnedEnterListener);\n      this._scene.off('leave', this._pinnedLeaveListener);\n\n      this._controller.removeScrollbarListener(this._pinnedScrollListener);\n\n      this._pinnedElement.style.position = null;\n      this._pinnedElement.style.top = null;\n      this._pinnedElement.style.width = null;\n    }\n\n    this._controller = null;\n\n    return this;\n  }\n\n  triggerElement(newTriggerElement) {\n    if (!arguments.length) {\n      return this._scene.triggerElement();\n    }\n    this._scene.triggerElement(newTriggerElement);\n    return this;\n  }\n\n  triggerHook(newTriggerHook) {\n    if (!arguments.length) {\n      return this._scene.triggerHook();\n    }\n    this._scene.triggerHook(newTriggerHook);\n    return this;\n  }\n\n  duration(newDuration) {\n    if (!arguments.length) {\n      return this._scene.duration();\n    }\n    this._scene.duration(newDuration);\n    return this;\n  }\n\n  progress(newProgress) {\n    if (!arguments.length) {\n      return this._scene.progress();\n    }\n    this._scene.progress(newProgress);\n    return this;\n  }\n\n  refresh() {\n    this._scene.refresh();\n    return this;\n  }\n};\n\nexport default ScrollScene;\n","import ScrollController from './scroll-controller';\nimport ScrollScene from './scroll-scene';\nimport { BreakpointListener, PropertyHelper } from './utils';\nimport { TweenMax, TimelineMax } from 'gsap';\n\n\nclass ScrollView {\n  constructor(options) {\n    this._container = options.container || window;\n    this._content = this._container.children[0];\n\n    this._smoothScrolling = options.smoothScrolling || false;\n\n    this._helper = new PropertyHelper(options.breakpoints);\n\n    this._defaults = Object.assign({\n      parallax: {\n        enabled: true,\n        type: 'global',\n        speed: 1,\n        momentum: .3,\n        stagger: null,\n        ease: 'Power0.easeNone',\n        trigger: this._container.parentNode,\n        duration: '100%',\n        offset: 0,\n        hook: 'onCenter',\n        indicator: null\n      },\n      scene: {\n        name: null,\n        triggerHook: 'onCenter',\n        duration: 0,\n        reverse: true,\n        classToggle: null,\n        pin: false,\n        enabled: true,\n        indicator: false\n      },\n      animation: {\n        name: null,\n        duration: 1,\n        position: '+=0',\n        stagger: null,\n        transition: null,\n        ease: null,\n        repeat: 0,\n        yoyo: false,\n        delay: 0,\n        label: null,\n        alpha: {\n          from: null,\n          to: null\n        },\n        x: {\n          from: null,\n          to: null\n        },\n        y: {\n          from: null,\n          to: null\n        },\n        xPercent: {\n          from: null,\n          to: null\n        },\n        yPercent: {\n          from: null,\n          to: null\n        },\n        scale: {\n          from: null,\n          to: null\n        },\n        rotation: {\n          from: null,\n          to: null\n        },\n        width: {\n          from: null,\n          to: null\n        }\n      }\n    }, options.defaults);\n\n    // These lists keep DOM elements, tweens and scenes, so that when we resize the screen and reach a breakpoint,\n    // the elements are reset and the scenes are removed, rebuilt and added again.\n    this._domElements = [];\n    this._tweens = [];\n    this._scenes = [];\n\n    this._sceneModifiers = {};\n\n    // This content scene is used to update scroll progress when a scroll listener is added\n    this._contentScene = new ScrollScene({\n      triggerElement: this._content,\n      triggerHook: 'onLeave',\n      duration: this._content.offsetHeight\n    });\n\n    // TODO: Instead of checking for xs, check for isMobile somehow (actual devices)\n    new BreakpointListener(({ screenSize, hasChanged }) => {\n      if (hasChanged) {\n        // First load\n        if (!this._controller) {\n          this._controller = new ScrollController({\n            container: this._container,\n            smoothScrolling: screenSize === 'xs' ? false : this._smoothScrolling,\n            addIndicators: options.addIndicators || false\n          });\n          this._controller.addScene(this._contentScene);\n        } else {\n          // Disable smooth scrolling on mobile\n          if (this._smoothScrolling) {\n            if (screenSize === 'xs') {\n              this._controller.smoothScrolling(false);\n            } else {\n              this._controller.smoothScrolling(true);\n            }\n          }\n        }\n        console.debug('[ScrollView] Rebuilding scenes for:', screenSize);\n        this._rebuild();\n      }\n\n      // Update content scene duration, so the scroll progress is adjusted\n      this._contentScene.duration(this._content.offsetHeight);\n\n    }, this._helper.breakpoints());\n  }\n\n  bindAnchors(anchors) {\n    anchors.forEach(anchor => {\n      // Bind scroll to anchor\n      anchor.addEventListener('click', e => {\n        const id = e.currentTarget.getAttribute('href');\n        if (id.length > 0) {\n          e.preventDefault();\n\n          this._controller.scrollTo(id);\n        }\n      });\n      // Bind anchor to scroll\n      const id = anchor.getAttribute('href');\n      const section = this._container.querySelector(id);\n      this._controller.addScene(\n        new ScrollScene({\n          triggerElement: section,\n          triggerHook: 'onLeave',\n          duration: section.offsetHeight\n        })\n        .on('enter', () => anchor.classList.add('is-active'))\n        .on('leave', () => anchor.classList.remove('is-active'))\n      );\n    });\n  }\n\n  registerSceneModifier(modifierName, modifierFunction) {\n    this._sceneModifiers[modifierName] = modifierFunction;\n  }\n\n  addScrollListener(listener) {\n    this._contentScene.on('progress', listener);\n  }\n\n  removeScrollListener(listener) {\n    this._contentScene.off('progress', listener);\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this._smoothScrolling;\n    } else {\n      this._controller.smoothScrolling(newSmoothScrolling);\n      this._rebuild();\n    }\n  }\n\n  _rebuild() {\n    setTimeout(() => {\n      this._resetScenes();\n      this._buildParallaxScenes();\n      this._buildScenes();\n    }, 0);\n  }\n\n  _buildScenes() {\n    const domScenes = this._container.querySelectorAll('[data-scene]');\n\n    domScenes.forEach(domScene => {\n\n      const isEnabled = eval(this._helper.getSceneProperty(domScene, 'enabled', this._defaults.scene.enabled));\n\n      if (isEnabled) {\n\n        let scene = new ScrollScene({\n          triggerElement: this._helper.getSceneProperty(domScene, 'trigger', domScene),\n          triggerHook: this._helper.getSceneProperty(domScene, 'hook', this._defaults.scene.triggerHook),\n          duration: this._helper.getSceneProperty(domScene, 'duration', this._defaults.scene.duration),\n          reverse: this._helper.getSceneProperty(domScene, 'reverse', this._defaults.scene.reverse)\n        });\n\n        const indicator = this._helper.getSceneProperty(domScene, 'indicator', this._defaults.scene.indicator);\n        if (indicator) {\n          scene.addIndicators({ name: indicator });\n        }\n\n        const classToggle = this._helper.getSceneProperty(domScene, 'class-toggle', this._defaults.scene.classToggle);\n        const pin = this._helper.getSceneProperty(domScene, 'pin', this._defaults.scene.pin);\n        const modifierName = this._helper.getSceneProperty(domScene, 'scene', this._defaults.scene.modifierName);\n\n        if (classToggle) {\n          scene.setClassToggle(domScene, classToggle);\n        } else if (pin) {\n          scene.setPin(domScene);\n        } else if (modifierName) {\n          scene = this._applySceneModifier(modifierName, scene, domScene);\n        } else {\n          this._createAnimation(scene, domScene);\n        }\n\n        this._controller.addScene(scene);\n        this._scenes.push(scene);\n      }\n    });\n  }\n\n  _createAnimation(scene, domScene) {\n    let tween = new TimelineMax().add('start');\n\n    const domElements = domScene.querySelectorAll('[data-animate]');\n\n    domElements.forEach(domElement => {\n\n      const animation = this._helper.getAnimationProperty(domElement, 'animate', this._defaults.animation.name);\n\n      const animationProps = {\n        autoAlpha: {\n          from: this._helper.getAnimationProperty(domElement, 'from-alpha', this._defaults.animation.alpha.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-alpha', this._defaults.animation.alpha.to)\n        },\n        x: {\n          from: this._helper.getAnimationProperty(domElement, 'from-x', this._defaults.animation.x.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-x', this._defaults.animation.x.to)\n        },\n        y: {\n          from: this._helper.getAnimationProperty(domElement, 'from-y', this._defaults.animation.y.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-y', this._defaults.animation.y.to)\n        },\n        xPercent: {\n          from: this._helper.getAnimationProperty(domElement, 'from-x-percent', this._defaults.animation.xPercent.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-x-percent', this._defaults.animation.xPercent.to)\n        },\n        yPercent: {\n          from: this._helper.getAnimationProperty(domElement, 'from-y-percent', this._defaults.animation.yPercent.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-y-percent', this._defaults.animation.yPercent.to)\n        },\n        scale: {\n          from: this._helper.getAnimationProperty(domElement, 'from-scale', this._defaults.animation.scale.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-scale', this._defaults.animation.scale.to)\n        },\n        rotation: {\n          from: this._helper.getAnimationProperty(domElement, 'from-rotation', this._defaults.animation.rotation.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-rotation', this._defaults.animation.rotation.to)\n        },\n        width: {\n          from: this._helper.getAnimationProperty(domElement, 'from-width', this._defaults.animation.width.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-width', this._defaults.animation.width.to)\n        }\n      };\n\n      const extraProps = {\n        ease: eval(this._helper.getAnimationProperty(domElement, 'ease', this._defaults.animation.ease)),\n        repeat: eval(this._helper.getAnimationProperty(domElement, 'repeat', this._defaults.animation.repeat)),\n        yoyo: eval(this._helper.getAnimationProperty(domElement, 'yoyo', this._defaults.animation.yoyo)),\n        delay: eval(this._helper.getAnimationProperty(domElement, 'delay', this._defaults.animation.delay))\n      };\n\n      const duration = this._helper.getAnimationProperty(domElement, 'duration', this._defaults.animation.duration);\n      const position = this._helper.getAnimationProperty(domElement, 'position', this._defaults.animation.position);\n      const stagger = this._helper.getAnimationProperty(domElement, 'stagger', this._defaults.animation.stagger);\n      const label = this._helper.getAnimationProperty(domElement, 'label', this._defaults.animation.label);\n      const transition = this._helper.getAnimationProperty(domElement, 'transition', this._defaults.animation.transition);\n\n      const fromProps = this._buildState('from', animationProps);\n      const toProps = this._buildState('to', animationProps);\n\n      if (!animation) {\n        let hasProperties = fromProps || toProps;\n        if (hasProperties) {\n          if (stagger) {\n            if (fromProps && toProps) {\n              tween.staggerFromTo(domElement.children, duration, fromProps, Object.assign(toProps, extraProps), stagger, position);\n            }\n            else if (fromProps) {\n              tween.staggerFrom(domElement.children, duration, Object.assign(fromProps, extraProps), stagger, position);\n            }\n            else {\n              tween.staggerTo(domElement.children, duration, Object.assign(toProps, extraProps), stagger, position);\n            }\n            this._domElements.push(domElement.children);\n          } else {\n            if (fromProps && toProps) {\n              tween.fromTo(domElement, duration, fromProps, Object.assign(toProps, extraProps), position);\n            }\n            else if (fromProps) {\n              tween.from(domElement, duration, Object.assign(fromProps, extraProps), position);\n            }\n            else {\n              tween.to(domElement, duration, Object.assign(toProps, extraProps), position);\n            }\n            this._domElements.push(domElement);\n          }\n        }\n      }\n\n      if (label) {\n        tween.add(label);\n      }\n\n      if (transition) {\n        domElement.style.transition = transition;\n      }\n    });\n\n    scene.setTween(tween);\n\n    this._tweens.push(tween);\n  }\n\n  // TODO: Refactor this. Custom scenes must be implemented outside ScrollView and applied here\n  /**\n   * A modifier must be registered in the scroll view in order to be applied.\n   * \n   * As data-* attributes can't cover eveything we want to do with scenes, we can apply custom behavior\n   * to it through scene modifiers.\n   * \n   * @param {*} modifierName\n   * @param {*} scene\n   * @param {*} domScene\n   */\n  _applySceneModifier(modifierName, scene, domScene) {\n    const modifierFunction = this._sceneModifiers[modifierName];\n    if (modifierFunction) {\n      const modifier = modifierFunction(domScene);\n\n      if (modifier.tween !== undefined) {\n        let tween = new TimelineMax().add(modifier.tween);\n\n        scene.setTween(tween);\n        this._tweens.push(tween);\n      }\n\n      if (modifier.duration !== undefined) {\n        scene.duration(modifier.duration);\n      }\n\n      if (modifier.onEnter !== undefined) {\n        scene.on('enter', modifier.onEnter);\n      }\n\n      if (modifier.pin !== undefined) {\n        scene.setPin(modifier.pin);\n      }\n\n      this._domElements.push(domScene);\n    }\n    return scene;\n  }\n\n  _buildParallaxScenes() {\n    const globalItems = [];\n    const sceneItems = [];\n\n    const domElements = this._container.querySelectorAll('[data-parallax]');\n\n    domElements.forEach(domElement => {\n\n      const isEnabled = eval(this._helper.getParallaxProperty(domElement, 'enabled', this._defaults.parallax.enabled));\n\n      if (isEnabled) {\n        const speed = this._helper.getParallaxProperty(domElement, 'speed', this._defaults.parallax.speed);\n        const momentum = this._helper.getParallaxProperty(domElement, 'momentum', this._defaults.parallax.momentum);\n        const stagger = this._helper.getParallaxProperty(domElement, 'stagger', this._defaults.parallax.stagger);\n        const ease = eval(this._helper.getParallaxProperty(domElement, 'ease', this._defaults.parallax.ease));\n\n        let item = {\n          domElement: domElement,\n          speed: speed,\n          momentum: momentum,\n          stagger: stagger,\n          ease: ease\n        };\n\n        const parallaxType = this._helper.getParallaxProperty(domElement, 'parallax', this._defaults.parallax.type);\n\n        // Global items\n        if (parallaxType === 'global') {\n          globalItems.push(item);\n        }\n        // Scene items\n        else if (parallaxType === 'scene') {\n          const trigger = this._helper.getParallaxProperty(domElement, 'trigger', this._defaults.parallax.trigger);\n          const duration = this._helper.getParallaxProperty(domElement, 'duration', this._defaults.parallax.duration);\n          const offset = this._helper.getParallaxProperty(domElement, 'offset', this._defaults.parallax.offset);\n          const hook = this._helper.getParallaxProperty(domElement, 'hook', this._defaults.parallax.hook);\n          const indicator = this._helper.getParallaxProperty(domElement, 'indicator', this._defaults.parallax.indicator);\n\n          item = Object.assign(item, {\n            trigger: trigger,\n            duration: duration,\n            offset: offset,\n            hook: hook,\n            indicator: indicator\n          });\n\n          sceneItems.push(item);\n        }\n      } else {\n        TweenMax.set(domElement, { clearProps: 'all' });\n      }\n    });\n\n    if (globalItems.length > 0) {\n      this._buildGlobalParallax(globalItems);\n    }\n\n    if (sceneItems.length > 0) {\n      this._buildScenesParallax(sceneItems);\n    }\n  }\n\n  _buildGlobalParallax(items) {\n    const scene = new ScrollScene({\n      triggerElement: this._content,\n      triggerHook: 'onLeave',\n      duration: this._content.offsetHeight\n    })\n    .on('update', () => this._updateParallaxItems(items, this._controller.getScrollPos()));\n\n    this._scenes.push(scene);\n    this._controller.addScene(scene);\n  }\n\n  _buildScenesParallax(items) {\n    items.forEach(item => {\n      let during = false;\n\n      const scene = new ScrollScene({\n        triggerElement: item.trigger,\n        triggerHook: item.hook,\n        duration: item.duration,\n        offset: item.offset\n      })\n      .on('update', () => {\n        if (during) {\n          const startPos = scene.triggerElement().offsetTop - (scene.triggerHook() * scene.duration());\n\n          const delta = this._controller.getScrollPos() - startPos;\n\n          this._updateParallaxItems([item], delta);\n        }\n      })\n      .on('enter', () => during = true)\n      .on('leave', () => during = false);\n\n      if (item.indicator) {\n        scene.addIndicators({ name: item.indicator });\n      }\n  \n      this._scenes.push(scene);\n      this._controller.addScene(scene);\n    });\n  }\n\n  _updateParallaxItems(items, offsetY) {\n    items.forEach(item => {\n      if (item.stagger) {\n        TweenMax.staggerTo(item.domElement.children, item.momentum, {\n          y: offsetY/item.speed,\n          ease: item.ease\n        }, item.stagger);\n      } else {\n        if (item.momentum > 0) {\n          TweenMax.to(item.domElement, item.momentum, {\n            y: offsetY/item.speed,\n            ease: item.ease\n          });\n        } else {\n          TweenMax.set(item.domElement, {\n            y: offsetY/item.speed\n          });\n        }\n      }\n    });\n  }\n\n  _resetScenes() {\n    this._tweens.forEach(tween => tween.clear());\n\n    this._scenes.forEach(scene => {\n      scene.removePin(true);\n      this._controller.removeScene(scene);\n    });\n\n    TweenMax.set(this._domElements, {\n      clearProps: 'all'\n    });\n\n    this._tweens = [];\n    this._scenes = [];\n    this._domElements = [];\n  }\n\n  _buildState(stateKey, properties) {\n    let state;\n    Object.keys(properties).forEach(key => {\n      if (properties[key][stateKey] !== null) {\n        if (!state) {\n          state = {};\n        }\n        state[key] = properties[key][stateKey];\n      }\n    });\n    return state;\n  }\n};\n\nexport default ScrollView;\n","/**\n * BreakpointListener\n * \n * Provide information when screen size changes from/to several breakpoints.\n * \n * @param {function} callback\n * @param {json} breakpoints\n */\nexport class BreakpointListener {\n  constructor(callback, breakpoints) {\n    this.screenSize = null;\n    this.windowWidth = window.innerWidth;\n    this.timeout = null;\n\n    this.checkView = () => {\n      let keys = Object.keys(breakpoints);\n\n      let screenSize = keys.slice(-1)[0];\n\n      for (let i=keys.length-1; i >= 0; i--) {\n        let value = breakpoints[keys[i]];\n        if (this.windowWidth < value) {\n          screenSize = keys[i-1] || 'xs';\n        }\n      }\n\n      let hasChanged = this.screenSize !== screenSize;\n\n      this.screenSize = screenSize;\n\n      callback({\n        screenSize: this.screenSize,\n        hasChanged: hasChanged\n      });\n    };\n\n    this.listener = () => {\n      if (this.windowWidth !== window.innerWidth) {\n        this.windowWidth = window.innerWidth;\n    \n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n    \n        this.timeout = setTimeout(this.checkView, 250);\n      }\n    };\n  \n    window.addEventListener('resize', this.listener);\n\n    this.checkView();\n  }\n};\n\n/**\n * PropertyHelper\n * \n * Retrieve property values from data-* attributes according to the screen width.\n * \n * @param {json} breakpoints\n */\nexport class PropertyHelper {\n  constructor(breakpoints) {\n    this._breakpoints = breakpoints ? breakpoints : {\n      'sm': 576,\n      'md': 768,\n      'lg': 992,\n      'xl': 1200,\n      'xxl': 1600\n    };\n  }\n\n  breakpoints(newValue) {\n    if (!arguments.length) {\n      return this._breakpoints;\n    } else {\n      this._breakpoints = newValue;\n    }\n  }\n\n  // TODO: Improve this to be independent from breakpoints, maybe using a recursive function\n  getDataProperty(type, item, property, defaultValue) {\n    const screenWidth = window.innerWidth;\n\n    const key = property === type ? type : `${type}-${property}`;\n\n    // xs\n    if (screenWidth < this._breakpoints['sm']) {\n      return item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // sm\n    else if (screenWidth < this._breakpoints['md']) {\n      return item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // md\n    else if (screenWidth < this._breakpoints['lg']) {\n      return item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // lg\n    else if (screenWidth < this._breakpoints['xl']) {\n      return item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // xl\n    else if (screenWidth < this._breakpoints['xxl']) {\n      return item.getAttribute(`data-xl-${key}`) ||\n            item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // xxl\n    else {\n      return item.getAttribute(`data-xxl-${key}`) ||\n            item.getAttribute(`data-xl-${key}`) ||\n            item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n  };\n\n  getParallaxProperty(item, property, defaultValue) {\n    return this.getDataProperty('parallax', item, property, defaultValue);\n  }\n\n  getSceneProperty(item, property, defaultValue) {\n    return this.getDataProperty('scene', item, property, defaultValue);\n  }\n\n  getAnimationProperty(item, property, defaultValue) {\n    return this.getDataProperty('animate', item, property, defaultValue);\n  }\n}\n","// Based on utils from https://blog.garstasio.com/you-dont-need-jquery/utils/\nconst data = window.WeakMap ? new WeakMap() : (function () {\n  let lastId = 0,\n      store = {};\n\n  return {\n      set: function(element, info) {\n          let id;\n          if (element.myCustomDataTag === undefined) {\n              id = lastId++;\n              element.myCustomDataTag = id;\n          }\n          store[id] = info;\n      },\n      get: function(element) {\n        return store[element.myCustomDataTag];\n      }\n  };\n}());\n\nexport function getData(el) {\n  return data.get(el);\n};\n\nexport function setData(el, obj) {\n  data.set(el, obj);\n};\n\nexport function getComponent(domElement) {\n  return getData(domElement).component;\n};\n\nexport function findComponent(componentClass) {\n  const obj = getData(document.querySelector(`[data-component=\"${componentClass.componentName}\"]`));\n  if (!obj) {\n    console.error(`[App] Couldn\\'t find instance of ${componentClass.componentName} component. Check declaration order.`);\n    return;\n  }\n  return obj.component;\n};\n\n// https://davidwalsh.name/css-animation-callback\nexport function whichAnimationEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let animations = {\n    'animation': 'animationend',\n    'OAnimation': 'oAnimationEnd',\n    'MozAnimation': 'animationend',\n    'WebkitAnimation': 'webkitAnimationEnd'\n  };\n\n  for (t in animations) {\n    if (el.style[t] !== undefined) {\n      return animations[t];\n    }\n  }\n};\n\nexport function whichTransitionEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let transitions = {\n    'transition': 'transitionend',\n    'OTransition': 'oTransitionEnd',\n    'MozTransition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd'\n  };\n\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\nexport function getRandom(min, max) {\n  return Math.random() * (max - min) + min;\n};\n\nexport class Timer {\n  constructor(callback, delay) {\n    let timerId, start, remaining = delay;\n\n    this.pause = function () {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n\n    let resume = function () {\n      start = new Date();\n      timerId = window.setTimeout(function () {\n        remaining = delay;\n        resume();\n        callback();\n      }, remaining);\n    };\n    this.resume = resume;\n\n    this.reset = function () {\n      remaining = delay;\n    };\n\n    this.resume();\n  }\n};\n"]}