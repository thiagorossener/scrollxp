{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/app.js","src/js/components/scroll-controller.js","src/js/decorators.js","src/js/utils.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_utils","_scrollController","_interopRequireDefault","App","components","document","querySelectorAll","forEach","el","names","getAttribute","split","name","component","find","componentName","console","error","concat","existing","getData","loadedComponents","setData","debug","options","eval","ex","Constructor","obj","push","_decorators","_scrollmagic","_gsap","ScrollController","element","_classCallCheck","this","controller","Controller","addIndicators","createParallax","parallax","querySelector","element1","element2","during","start","Scene","triggerElement","triggerHook","setTween","TweenMax","fromTo","scale","ease","Elastic","easeOut","config","addTo","duration","offsetHeight","on","startPos","delta","scrollPos","to","y","target","data","set","domElement","componentClass","createElement","animations","animation","OAnimation","MozAnimation","WebkitAnimation","undefined","style","transitions","transition","OTransition","MozTransition","WebkitTransition","min","max","Math","random","lastId","store","window","WeakMap","info","id","myCustomDataTag","get","BreakpointListener","callback","breakpoints","_this","screenSize","windowWidth","innerWidth","timeout","checkView","keys","Object","slice","value","hasChanged","listener","clearTimeout","setTimeout","addEventListener","Timer","delay","timerId","remaining","pause","Date","resume","reset"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { getData, setData } from './utils';\n\nimport ScrollController from './components/scroll-controller';\n\n\nlet App = {\n  components: [\n    ScrollController\n  ]\n};\n\n(() => {\n  // Bind components\n  document.querySelectorAll('[data-component]').forEach(el => {\n    let names = el.getAttribute('data-component').split(',');\n    names.forEach(name => {\n      let component = App.components.find(c => c.componentName === name);\n      if (!component) {\n        console.error(`[App] Component \"${name}\" is not defined`);\n        return false;\n      } else {\n        let existing = getData(el) && getData(el).loadedComponents;\n        if (!existing) {\n          existing = [];\n          setData(el, { loadedComponents: existing })\n        }\n        if (!(name in getData(el).loadedComponents)) {\n          let options;\n          try {\n            options = eval('(' + el.getAttribute('data-component-options') + ')') || {};\n          } catch (ex) {\n            options = {};\n          }\n          let Constructor = component;\n          let obj = new Constructor(el, options);\n          existing.push(name);\n          setData(el, { component: obj })\n          console.debug(`[App] Component \"${name}\" loaded.`);\n        } else {\n          console.debug(`[App] Component \"${name}\" already loaded`);\n        }\n      }\n    });\n  });\n})();\n","import { component } from '../decorators';\n\nimport ScrollMagic from 'scrollmagic';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap';\nimport 'gsap/ScrollToPlugin';\nimport { TweenMax, Circ } from 'gsap';\n\n\n@component('scrollController')\nclass ScrollController {\n  constructor(element) {\n    this.controller = new ScrollMagic.Controller({\n      addIndicators: true\n    });\n\n    this.createParallax();\n  }\n\n  createParallax() {\n    const parallax = document.querySelector('.parallax');\n    const element1 = document.querySelector('.parallax__element-1');\n    const element2 = document.querySelector('.parallax__element-2');\n\n    let during = false;\n    let start = null;\n\n    new ScrollMagic.Scene({\n      triggerElement: element2,\n      triggerHook: 'onCenter'\n    })\n    .setTween(TweenMax.fromTo(element2, .3, {\n      scale: 0\n    }, {\n      scale: 1,\n      ease: Elastic.easeOut.config(1, 0.75)\n    }))\n    .addTo(this.controller);\n\n    new ScrollMagic.Scene({\n      triggerElement: parallax,\n      triggerHook: 'onEnter',\n      duration: parallax.offsetHeight\n    })\n    .on('update', (e) => {\n      if (during) {\n        if (!start) {\n          start = e.startPos;\n        }\n\n        const delta = e.scrollPos - start;\n\n        TweenMax.to(element1, .8, {\n          y: delta/4\n        });\n\n        TweenMax.to(element2, .8, {\n          y: delta/2\n        });\n      }\n    })\n    .on('enter', (e) => {\n      during = true;\n    })\n    .on('leave', (e) => {\n      during = false;\n    })\n    .addTo(this.controller);\n  }\n};\n\nexport default ScrollController;\n","export function component(name) {\n  return function (target) {\n    target.componentName = name;\n  }\n}\n","// Based on utils from https://blog.garstasio.com/you-dont-need-jquery/utils/\nconst data = window.WeakMap ? new WeakMap() : (function () {\n  let lastId = 0,\n      store = {};\n\n  return {\n      set: function(element, info) {\n          let id;\n          if (element.myCustomDataTag === undefined) {\n              id = lastId++;\n              element.myCustomDataTag = id;\n          }\n          store[id] = info;\n      },\n      get: function(element) {\n        return store[element.myCustomDataTag];\n      }\n  };\n}());\n\nexport function getData(el) {\n  return data.get(el);\n};\n\nexport function setData(el, obj) {\n  data.set(el, obj);\n};\n\nexport function getComponent(domElement) {\n  return getData(domElement).component;\n};\n\nexport function findComponent(componentClass) {\n  return getData(document.querySelector(`[data-component=\"${componentClass.componentName}\"]`)).component;\n};\n\n// https://davidwalsh.name/css-animation-callback\nexport function whichAnimationEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let animations = {\n    'animation': 'animationend',\n    'OAnimation': 'oAnimationEnd',\n    'MozAnimation': 'animationend',\n    'WebkitAnimation': 'webkitAnimationEnd'\n  };\n\n  for (t in animations) {\n    if (el.style[t] !== undefined) {\n      return animations[t];\n    }\n  }\n};\n\nexport function whichTransitionEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let transitions = {\n    'transition': 'transitionend',\n    'OTransition': 'oTransitionEnd',\n    'MozTransition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd'\n  };\n\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\nexport function getRandom(min, max) {\n  return Math.random() * (max - min) + min;\n};\n\n/**\n * BreakpointListener\n * \n * Provide information when screen size changes from/to several breakpoints.\n * \n * @param {function} callback\n * @param {json} breakpoints\n */\nexport class BreakpointListener {\n  constructor(callback, breakpoints) {\n    this.screenSize = null;\n    this.windowWidth = window.innerWidth;\n    this.timeout = null;\n\n    this.checkView = () => {\n      let keys = Object.keys(breakpoints);\n\n      let screenSize = keys.slice(-1)[0];\n\n      for (let i=keys.length-1; i >= 0; i--) {\n        let value = breakpoints[keys[i]];\n        if (this.windowWidth < value) {\n          screenSize = keys[i-1] || 'xs';\n        }\n      }\n\n      let hasChanged = this.screenSize !== screenSize;\n\n      this.screenSize = screenSize;\n\n      callback({\n        screenSize: this.screenSize,\n        hasChanged: hasChanged\n      });\n    };\n\n    this.listener = () => {\n      if (this.windowWidth !== window.innerWidth) {\n        this.windowWidth = window.innerWidth;\n    \n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n    \n        this.timeout = setTimeout(this.checkView, 250);\n      }\n    };\n  \n    window.addEventListener('resize', this.listener);\n\n    this.checkView();\n  }\n};\n\nexport class Timer {\n  constructor(callback, delay) {\n    let timerId, start, remaining = delay;\n\n    this.pause = function () {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n\n    let resume = function () {\n      start = new Date();\n      timerId = window.setTimeout(function () {\n        remaining = delay;\n        resume();\n        callback();\n      }, remaining);\n    };\n    this.resume = resume;\n\n    this.reset = function () {\n      remaining = delay;\n    };\n\n    this.resume();\n  }\n};\n"]}