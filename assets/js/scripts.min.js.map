{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/breakpoints.json","src/js/app.js","src/js/components/menu.js","src/js/components/scroll-container.js","src/js/components/toggle-button.js","src/js/decorators.js","src/js/scroll/scroll-controller.js","src/js/scroll/scroll-scene.js","src/js/scroll/scroll-view.js","src/js/scroll/utils.js","src/js/utils.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","sm","md","lg","xl","xxl","_utils","_menu","_interopRequireDefault","_scrollContainer","_toggleButton","App","components","document","querySelectorAll","forEach","el","names","getAttribute","split","name","component","find","componentName","console","error","concat","existing","getData","loadedComponents","setData","debug","options","eval","ex","Constructor","obj","push","_decorators","Menu","element","_classCallCheck","this","scrollContainer","findComponent","anchors","bindAnchors","_scrollView","_breakpoints","ScrollContainer","view","container","smoothScrolling","breakpoints","sidebar","querySelector","registerSceneModifier","domScene","duration","offsetHeight","onEnter","pin","tween","TweenMax","from","xPercent","addScrollListener","progress","log","newSmoothScrolling","arguments","ToggleButton","_this","_isActive","addEventListener","_updateState","innerText","classList","remove","add","target","_smoothScrollbar","_scrollmagic","ScrollController","_container","_options","_scenes","_scrollbarListeners","hash","location","requestAnimationFrame","setTimeout","scrollTo","_scrollbar","scrollIntoView","offsetTop","containerEl","scrollTop","_controller","_smoothScrolling","_removeAllScenes","_destroyController","scrollOffset","Controller","Object","assign","refreshInterval","_createScrollbars","newPos","callback","to","y","onComplete","ease","Power4","easeOut","_removeScrollbars","_addAllScenes","targetId","_this2","_latestTargetId","_isScrollingTo","offset","scrollPos","scene","addTo","filter","current","listener","addListener","removeListener","_this3","init","damping","addScrollbarListener","refresh","_this4","destroy","_this5","ScrollScene","_pinnedElement","_pinnedEnterListener","_pinnedLeaveListener","_pinnedScrollListener","_scene","Scene","params","setTween","classes","setClassToggle","reset","removePin","on","addIndicators","controller","elementPosY","_ref","elementOffsetY","getBoundingClientRect","top","triggerOffsetY","triggerElement","triggerPosY","triggerHook","scrollPosY","width","parseInt","style","position","removeScrollbarListener","setPin","off","newTriggerElement","newTriggerHook","newDuration","newProgress","newOffset","newReverse","reverse","_scrollController","_scrollScene","_gsap","ScrollView","window","_content","children","_scrollOffset","_helper","PropertyHelper","_defaults","mergeDeep","parallax","enabled","type","speed","momentum","stagger","trigger","parentNode","hook","indicator","classToggle","animation","onClass","transition","repeat","yoyo","delay","label","transformOrigin","alpha","x","yPercent","scale","rotation","rotationX","rotationY","skewX","skewY","height","defaults","_domElements","_tweens","_anchorScenes","_sceneModifiers","_animations","BreakpointListener","screenSize","hasChanged","_rebuild","_contentScene","Array","anchor","setUpScrollTo","currentTarget","id","preventDefault","section","anchorScene","addScene","setScrollOffset","modifierName","modifierFunction","animationName","animationProps","contentHeight","containerHeight","getScrollPos","_resetScenes","_buildParallaxScenes","_buildScenes","_this6","domScenes","isEnabled","getSceneProperty","_applySceneModifier","_createAnimation","_this7","TimelineMax","domElements","domElement","getAnimationProperty","autoAlpha","fromProps","toProps","extraProps","_buildState","pause","ClassWatcher","play","hasProperties","staggerFromTo","staggerFrom","staggerTo","fromTo","modifier","undefined","onProgress","_this8","globalItems","sceneItems","getParallaxProperty","item","parallaxType","set","clearProps","_buildGlobalParallax","_buildScenesParallax","items","_this9","_updateParallaxItems","_this10","during","startPos","endPos","delta","offsetY","_this11","clear","removeScene","killTweensOf","stateKey","properties","state","keys","key","source","output","isObject","_defineProperty","windowWidth","innerWidth","timeout","checkView","slice","value","clearTimeout","newValue","property","defaultValue","screenWidth","getDataProperty","_typeof","isArray","className","contains","observer","MutationObserver","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","mutation","attributeName","disconnect","err","observe","attributes","data","componentClass","createElement","animations","OAnimation","MozAnimation","WebkitAnimation","transitions","OTransition","MozTransition","WebkitTransition","min","max","Math","random","lastId","store","WeakMap","info","myCustomDataTag","get","Timer","timerId","start","remaining","Date","resume"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports={\n  \"sm\": 480,\n  \"md\": 1024,\n  \"lg\": 1200,\n  \"xl\": 1600,\n  \"xxl\": 2000\n}\n","import { getData, setData } from './utils';\n\nimport Menu from './components/menu';\nimport ScrollContainer from './components/scroll-container';\nimport ToggleButton from './components/toggle-button';\n\n\nlet App = {\n  components: [\n    Menu,\n    ScrollContainer,\n    ToggleButton\n  ]\n};\n\n(() => {\n  // Bind components\n  document.querySelectorAll('[data-component]').forEach(el => {\n    let names = el.getAttribute('data-component').split(',');\n    names.forEach(name => {\n      let component = App.components.find(c => c.componentName === name);\n      if (!component) {\n        console.error(`[App] Component \"${name}\" is not defined`);\n        return false;\n      } else {\n        let existing = getData(el) && getData(el).loadedComponents;\n        if (!existing) {\n          existing = [];\n          setData(el, { loadedComponents: existing })\n        }\n        if (!(name in getData(el).loadedComponents)) {\n          let options;\n          try {\n            options = eval('(' + el.getAttribute('data-component-options') + ')') || {};\n          } catch (ex) {\n            options = {};\n          }\n          let Constructor = component;\n          let obj = new Constructor(el, options);\n          existing.push(name);\n          setData(el, { component: obj })\n          console.debug(`[App] Component \"${name}\" loaded.`);\n        } else {\n          console.debug(`[App] Component \"${name}\" already loaded`);\n        }\n      }\n    });\n  });\n})();\n","import { component } from '../decorators';\nimport { findComponent } from '../utils';\nimport ScrollContainer from './scroll-container';\n\n\n@component('menu')\nclass Menu {\n  constructor(element) {\n    const scrollContainer = findComponent(ScrollContainer);\n    if (scrollContainer) {\n      const anchors = element.querySelectorAll('a[href^=\"#\"]');\n      scrollContainer.bindAnchors(anchors);\n    }\n  }\n};\n\nexport default Menu;\n","import { component } from '../decorators';\n\nimport ScrollView from '../scroll/scroll-view';\nimport breakpoints from '../../breakpoints';\n\n\n@component('scrollContainer')\nclass ScrollContainer {\n  constructor(element) {\n    this.view = new ScrollView({\n      container: element,\n      smoothScrolling: false,\n      breakpoints: breakpoints\n    });\n\n    const sidebar = document.querySelector('.scene__sidebar');\n    this.view.registerSceneModifier('pin-content',\n      function (domScene) {\n        return {\n          duration: sidebar.offsetHeight - domScene.offsetHeight,\n          onEnter: function () {\n            this.duration(sidebar.offsetHeight - domScene.offsetHeight);\n          },\n          pin: domScene\n        }\n      });\n\n    this.view.registerSceneModifier('slide-in-sidebar',\n      function (domScene) {\n        return {\n          tween: TweenMax.from(domScene, 1, {\n            xPercent: 100\n          })\n        }\n      });\n\n    this.view.addScrollListener(progress => {\n      console.log('progress', progress);\n    });\n  }\n\n  bindAnchors(anchors) {\n    this.view.bindAnchors(anchors);\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this.view.smoothScrolling();\n    } else {\n      this.view.smoothScrolling(newSmoothScrolling);\n    }\n  }\n};\n\nexport default ScrollContainer;\n","import { component } from '../decorators';\nimport { findComponent } from '../utils';\nimport ScrollContainer from './scroll-container';\n\n\n@component('toggleButton')\nclass ToggleButton {\n  constructor(element) {\n    this.element = element;\n\n    const scrollContainer = findComponent(ScrollContainer);\n    if (scrollContainer) {\n      this._isActive = scrollContainer.smoothScrolling();\n\n      this.element.addEventListener('click', () => {\n        this._isActive = !this._isActive;\n\n        scrollContainer.smoothScrolling(this._isActive);\n\n        this._updateState();\n      });\n\n      this._updateState();\n    } else {\n      console.error('[ToggleButton] Couldn\\'t find ScrollContainer component.');\n    }\n  }\n\n  _updateState() {\n    if (this._isActive) {\n      this.element.querySelector('span').innerText = 'On';\n      this.element.querySelector('span').classList.remove('off');\n      this.element.querySelector('span').classList.add('on');\n    } else {\n      this.element.querySelector('span').innerText = 'Off';\n      this.element.querySelector('span').classList.remove('on');\n      this.element.querySelector('span').classList.add('off');\n    }\n  }\n};\n\nexport default ToggleButton;\n","export function component(name) {\n  return function (target) {\n    target.componentName = name;\n  }\n}\n","import Scrollbar from 'smooth-scrollbar';\nimport ScrollMagic from 'scrollmagic';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap';\nimport 'gsap/ScrollToPlugin';\n\n\n/**\n * ScrollController\n * \n * This is a wrapper for ScrollMagic controller class. It adds a smooth scrolling option and\n * some util methods.\n * \n * @param {*} options\n */\nclass ScrollController {\n  constructor(options) {\n    this._container = options.container;\n    this._options = options;\n\n    // These lists keep scenes and scrollbar listeners, so that when we turn on/off the smooth scrolling,\n    // they are removed/added to the new controller.\n    this._scenes = [];\n    this._scrollbarListeners = [];\n\n    this.smoothScrolling(this._options.smoothScrolling);\n\n    // Scroll to when loading page with hashtag\n    // https://github.com/idiotWu/smooth-scrollbar/issues/128#issuecomment-390980479\n    const hash = location.hash;\n    if (hash) {\n      requestAnimationFrame(() => {\n        setTimeout(() => {\n          this._container.scrollTo(0, 0);\n          if (this.smoothScrolling()) {\n            this._scrollbar.scrollIntoView(document.querySelector(hash), {\n              offsetTop: -this._scrollbar.containerEl.scrollTop\n            });\n          } else {\n            this._controller.scrollTo(hash);\n          }\n        }, 0);\n      });\n    }\n  }\n\n  controller() {\n    return this._controller;\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this._smoothScrolling;\n    } else {\n      this._removeAllScenes();\n      this._destroyController();\n\n      this._smoothScrolling = newSmoothScrolling;\n\n      delete this._options.smoothScrolling;\n\n      const scrollOffset = this._options.scrollOffset;\n      delete this._options.scrollOffset;\n\n      if (newSmoothScrolling) {\n        console.debug('[ScrollController] Smooth scrolling activated');\n\n        this._controller = new ScrollMagic.Controller(Object.assign(this._options, { refreshInterval: 0 }));\n\n        this._createScrollbars();\n      } else {\n        console.debug('[ScrollController] Common scrolling activated');\n\n        this._controller = new ScrollMagic.Controller(this._options);\n\n        this._controller.scrollTo(function (newPos, callback) {\n          TweenMax.to(this, 2, {\n            scrollTo: {\n              y: newPos + scrollOffset\n            },\n            onComplete: function () {\n              if (callback) callback();\n            },\n            ease: Power4.easeOut\n          });\n        });\n\n        this._removeScrollbars();\n      }\n\n      this._addAllScenes();\n    }\n  }\n\n  scrollTo(targetId) {\n    if (this.smoothScrolling()) {\n      const element = this._container.querySelector(targetId);\n      if (element) {\n        this._scrollbar.scrollIntoView(element);\n      }\n    } else {\n      this._latestTargetId = targetId;\n\n      this._isScrollingTo = true;\n      this._controller.scrollTo(targetId, () => {\n        this._isScrollingTo = false;\n      });\n    }\n  }\n\n  getScrollPos() {\n    if (this.smoothScrolling()) {\n      return this._scrollbar.offset.y;\n    }\n    return this._controller.scrollPos();\n  }\n\n  addScene(scene) {\n    scene.addTo(this);\n    this._scenes.push(scene);\n  }\n\n  removeScene(scene) {\n    scene.remove();\n\n    this._scenes = this._scenes.filter(function (current) {\n      return current !== scene;\n    });\n  }\n\n  addScrollbarListener(listener) {\n    if (this._scrollbar) {\n      this._scrollbar.addListener(listener);\n\n      this._scrollbarListeners.push(listener);\n    }\n  }\n\n  removeScrollbarListener(listener) {\n    if (this._scrollbar) {\n      this._scrollbar.removeListener(listener);\n\n      this._scrollbarListeners = this._scrollbarListeners.filter(function (current) {\n        return current !== listener;\n      });\n    }\n  }\n\n  setScrollOffset(offset) {\n    if(!this._smoothScrolling) {\n      this._controller.scrollTo(function (newPos, callback) {\n        TweenMax.to(this, 2, {\n          scrollTo: {\n            y: newPos + offset\n          },\n          onComplete: function () {\n            if (callback) callback();\n          },\n          ease: Power4.easeOut\n        });\n      });\n\n      // This is necessary because if the offset changes while the page is animating,\n      // it goes to the wrong position. So we need to animate it to the right one.\n      if (this._isScrollingTo && this._latestTargetId) {\n        this.scrollTo(this._latestTargetId);\n        this._latestTargetId = null;\n      }\n    }\n  }\n\n  _createScrollbars() {\n    this._scrollbar = Scrollbar.init(this._container, {\n      damping: 0.05\n    });\n\n    this.addScrollbarListener(() => this._scenes.forEach(scene => scene.refresh()));\n  }\n\n  _removeScrollbars() {\n    if (this._scrollbar) {\n      this._scrollbarListeners.forEach(listener => this._scrollbar.removeListener(listener));\n      this._scrollbarListeners = [];\n      this._scrollbar.destroy();\n    }\n  }\n\n  _addAllScenes() {\n    this._scenes.forEach(scene => scene.addTo(this));\n  }\n\n  _removeAllScenes() {\n    this._scenes.forEach(scene => scene.remove());\n  }\n\n  _destroyController() {\n    if (this._controller) {\n      if (this.smoothScrolling()) {\n        console.debug('[Controller] Removed smooth scrolling');\n      } else {\n        console.debug('[Controller] Removed common scrolling');\n      }\n      this._controller.destroy(true);\n    }\n  }\n};\n\nexport default ScrollController;\n","import ScrollMagic from 'scrollmagic';\n\n\n/**\n * ScrollScene\n * \n * This is a wrapper for ScrollMagic scene class. It makes scene work with smooth scrolling.\n * \n * @param {*} options\n */\nclass ScrollScene {\n  constructor(options) {\n    this._options = options;\n\n    this._controller = null;\n\n    this._pinnedElement = null;\n    this._pinnedEnterListener = null;\n    this._pinnedLeaveListener = null;\n    this._pinnedScrollListener = null;\n\n    this._scene = new ScrollMagic.Scene(this._options);\n\n    return this;\n  }\n\n  setTween(tween, duration, params) {\n    if (arguments.length > 1) {\n      if (arguments.length < 3) {\n        params = duration;\n        duration = 1;\n      }\n      tween = TweenMax.to(tween, duration, params);\n    }\n    this._scene.setTween(tween);\n    return this;\n  }\n\n  setClassToggle(element, classes) {\n    this._scene.setClassToggle(element, classes);\n    return this;\n  }\n\n  setPin(element) {\n    this._pinnedElement = element;\n    return this;\n  }\n\n  removePin(reset) {\n    this._scene.removePin(reset);\n    return this;\n  }\n\n  on(names, callback) {\n    this._scene.on(names, callback);\n    return this;\n  }\n\n  addIndicators(options) {\n    this._scene.addIndicators(options);\n    return this;\n  }\n\n  addTo(controller) {\n    this._controller = controller;\n\n    if (this._pinnedElement) {\n      /**\n       * Workaround\n       * \n       * Only in the case we're using smooth scrolling.\n       * \n       * Since transform creates a new local coordinate system, position: fixed is fixed to the origin\n       * of scrollbar content container, i.e. the left: 0, top: 0 point.\n       * \n       * Therefore, we need to apply offsets to make it work properly.\n       * https://github.com/idiotWu/smooth-scrollbar/issues/49#issuecomment-265358197\n       */\n      if (this._controller.smoothScrolling()) {\n        let elementPosY = 0;\n\n        this._pinnedScrollListener = ({ offset }) => {\n          if (elementPosY === 0) {\n            const elementOffsetY = this._pinnedElement.getBoundingClientRect().top;\n            const triggerOffsetY = this._scene.triggerElement().getBoundingClientRect().top;\n            const triggerPosY = this._scene.duration() * this._scene.triggerHook();\n\n            elementPosY = elementOffsetY - triggerOffsetY + triggerPosY;\n          }\n\n          const scrollPosY = offset.y;\n\n          const top = elementPosY + scrollPosY;\n          const width = parseInt(this._pinnedElement.getBoundingClientRect().width);\n\n          this._pinnedElement.style.position = 'fixed';\n          this._pinnedElement.style.top = `${top}px`;\n          this._pinnedElement.style.width = `${width}px`;\n        };\n\n        this._pinnedEnterListener = () => this._controller.addScrollbarListener(this._pinnedScrollListener);\n        this._pinnedLeaveListener = () => this._controller.removeScrollbarListener(this._pinnedScrollListener);\n\n        this._scene.on('enter', this._pinnedEnterListener);\n        this._scene.on('leave', this._pinnedLeaveListener);\n      } else {\n        this._scene.setPin(this._pinnedElement);\n      }\n    }\n\n    this._scene.addTo(controller.controller());\n    return this;\n  }\n\n  remove() {\n    this._scene.remove();\n\n    /**\n     * Workaround\n     * \n     * Only in the case we're using smooth scrolling.\n     * \n     * Since we're adding listeners to emulate the same pin feature that ScrollMagic has, when removing the scene,\n     * we need to remove these listeners and reset the element position.\n     */\n    if (this._pinnedElement && this._controller && this._controller.smoothScrolling()) {\n      this._scene.off('enter', this._pinnedEnterListener);\n      this._scene.off('leave', this._pinnedLeaveListener);\n\n      this._controller.removeScrollbarListener(this._pinnedScrollListener);\n\n      this._pinnedElement.style.position = null;\n      this._pinnedElement.style.top = null;\n      this._pinnedElement.style.width = null;\n    }\n\n    this._controller = null;\n\n    return this;\n  }\n\n  triggerElement(newTriggerElement) {\n    if (!arguments.length) {\n      return this._scene.triggerElement();\n    }\n    this._scene.triggerElement(newTriggerElement);\n    return this;\n  }\n\n  triggerHook(newTriggerHook) {\n    if (!arguments.length) {\n      return this._scene.triggerHook();\n    }\n    this._scene.triggerHook(newTriggerHook);\n    return this;\n  }\n\n  duration(newDuration) {\n    if (!arguments.length) {\n      return this._scene.duration();\n    }\n    this._scene.duration(newDuration);\n    return this;\n  }\n\n  progress(newProgress) {\n    if (!arguments.length) {\n      return this._scene.progress();\n    }\n    this._scene.progress(newProgress);\n    return this;\n  }\n\n  offset(newOffset) {\n    if (!arguments.length) {\n      return this._scene.offset();\n    }\n    this._scene.offset(newOffset);\n    return this;\n  }\n\n  reverse(newReverse) {\n    if (!arguments.length) {\n      return this._scene.reverse();\n    }\n    this._scene.reverse(newReverse);\n    return this;\n  }\n\n  refresh() {\n    this._scene.refresh();\n    return this;\n  }\n};\n\nexport default ScrollScene;\n","import ScrollController from './scroll-controller';\nimport ScrollScene from './scroll-scene';\nimport { BreakpointListener, PropertyHelper, ClassWatcher, mergeDeep } from './utils';\nimport { TweenMax, TimelineMax } from 'gsap';\n\n/**\n * !!!IMPORTANT!!!\n * \n * How it works:\n * - The attribute [data-scene] creates a scene with duration = 0,\n *   use [data-scene-*] to change the scene\n * - The attribute [data-animate] creates an animation,\n *   use [data-animate-*] to change the animation\n * - Animations get stacked in a timeline as they are declared\n * \n * Rules:\n * - [data-animate-*] only works inside an unregistered scene, i.e., [data-scene]\n *   (if we change that, we have trouble with nested scenes)\n * - [data-scene=\"NAME\"] can have nested scenes (registered and unregistered)\n * - [data-scene] can have only unregistered nested scenes\n * \n * Registering scenes and animations:\n * - Animations can be customized to be reused, we do that by registering animations\n *   JS: this.view.registerAnimation('fade-in', duration: 1, { from: { autoAlpha: 0 } });\n *   HTML: <div data-animate=\"fade-in\"></div>\n * - Scenes can be customized to allow more control over HTML elements, we do that by registering scenes\n *   JS: this.view.registerSceneModifier(\"reveal\", function(\n          domScene\n        ) {\n          return {\n            onEnter: function() {\n              domScene.classList.add(\"is-visible\");\n            },\n            triggerHook: \"0.8\"\n          };\n      HTML: <div data-scene=\"reveal\"></div>\n */\nclass ScrollView {\n  constructor(options) {\n    this._options = options;\n\n    this._container = options.container || window;\n    this._content = this._container.children[0];\n\n    this._smoothScrolling = options.smoothScrolling || false;\n\n    this._scrollOffset = options.scrollOffset || 0;\n\n    this._helper = new PropertyHelper(options.breakpoints);\n\n    this._defaults = mergeDeep({\n      parallax: {\n        enabled: true,\n        type: 'global',\n        speed: 1,\n        momentum: 0,\n        stagger: null,\n        ease: 'Power0.easeNone',\n        trigger: this._container.parentNode,\n        duration: '100%',\n        offset: 0,\n        hook: 'onCenter',\n        indicator: null\n      },\n      scene: {\n        name: null,\n        triggerHook: 'onCenter',\n        duration: 0,\n        reverse: true,\n        classToggle: null,\n        pin: false,\n        enabled: true,\n        indicator: false\n      },\n      animation: {\n        name: null,\n        onClass: null,\n        duration: 1,\n        position: '+=0',\n        stagger: null,\n        transition: null,\n        ease: null,\n        repeat: 0,\n        yoyo: false,\n        delay: 0,\n        label: null,\n        transformOrigin: null,\n        alpha: {\n          from: null,\n          to: null\n        },\n        x: {\n          from: null,\n          to: null\n        },\n        y: {\n          from: null,\n          to: null\n        },\n        xPercent: {\n          from: null,\n          to: null\n        },\n        yPercent: {\n          from: null,\n          to: null\n        },\n        scale: {\n          from: null,\n          to: null\n        },\n        rotation: {\n          from: null,\n          to: null\n        },\n        rotationX: {\n          from: null,\n          to: null\n        },\n        rotationY: {\n          from: null,\n          to: null\n        },\n        skewX: {\n          from: null,\n          to: null\n        },\n        skewY: {\n          from: null,\n          to: null\n        },\n        width: {\n          from: null,\n          to: null\n        },\n        height: {\n          from: null,\n          to: null\n        }\n      }\n    }, options.defaults);\n\n    // These lists keep DOM elements, tweens and scenes, so that when we resize the screen and reach a breakpoint,\n    // the elements are reset and the scenes are removed, rebuilt and added again.\n    this._domElements = [];\n    this._tweens = [];\n    this._scenes = [];\n    this._anchorScenes = [];\n\n    // Keeps registered scene modifiers\n    this._sceneModifiers = {};\n\n    // Keeps registered animations\n    this._animations = {};\n\n    // TODO: Instead of checking for xs, check for isMobile somehow (actual devices)\n    new BreakpointListener(({ screenSize, hasChanged }) => {\n      if (hasChanged) {\n\n        // First load\n        if (!this._controller) {\n\n          this._controller = new ScrollController({\n            container: this._container,\n            smoothScrolling: screenSize === 'xs' ? false : this._smoothScrolling,\n            scrollOffset: options.scrollOffset || 0,\n            addIndicators: options.addIndicators || false\n          });\n\n        } else {\n\n          // Disable smooth scrolling on mobile\n          if (this._smoothScrolling) {\n            if (screenSize === 'xs') {\n              this._controller.smoothScrolling(false);\n            } else {\n              this._controller.smoothScrolling(true);\n            }\n          }\n\n        }\n\n        console.debug('[ScrollView] Rebuilding scenes for:', screenSize);\n        this._rebuild();\n\n      }\n\n      // Update content scene duration, so the scroll progress is adjusted\n      if (this._contentScene) {\n        this._contentScene.duration(this._content.offsetHeight);\n      }\n\n    }, this._helper.breakpoints());\n\n    // Set up scrollTo anchors\n    if (options.anchors && options.anchors.length > 0) {\n      const anchors = Array.from(options.anchors).filter(anchor => anchor.hash.length > 1);\n      this.setUpScrollTo(anchors);\n    }\n  }\n\n  setUpScrollTo(anchors) {\n    anchors.forEach(anchor => {\n      anchor.addEventListener('click', e => {\n        anchors.forEach(anchor => anchor.classList.remove('is-active'));\n        e.currentTarget.classList.add('is-active');\n\n        const id = e.currentTarget.getAttribute('href');\n        if (id.length > 0) {\n          e.preventDefault();\n\n          this._controller.scrollTo(id);\n        }\n      });\n    });\n  }\n\n  bindAnchors(anchors) {\n    this.setUpScrollTo(anchors);\n\n    // Bind anchor to scroll scenes\n    anchors.forEach(anchor => {\n      const id = anchor.getAttribute('href');\n      const section = this._container.querySelector(id);\n      const anchorScene = new ScrollScene({\n        triggerElement: section,\n        triggerHook: '0.01', // BUGFIX: Sometimes the scene isn't triggered for 1px difference, using this value fixes the issue.\n        offset: this._scrollOffset,\n        duration: function () {\n          return section.offsetHeight;\n        }\n      })\n      .on('enter', () => anchor.classList.add('is-active'))\n      .on('leave', () => anchor.classList.remove('is-active'));\n\n      if (this._options.addIndicators) {\n        anchorScene.addIndicators({ name: id });\n      }\n\n      this._anchorScenes.push(anchorScene);\n\n      this._controller.addScene(anchorScene);\n    });\n  }\n\n  scrollTo(targetId) {\n    this._controller.scrollTo(targetId);\n  }\n\n  setScrollOffset(offset) {\n    this._anchorScenes.forEach(scene => scene.offset(offset));\n    this._controller.setScrollOffset(offset);\n  }\n\n  registerSceneModifier(modifierName, modifierFunction) {\n    this._sceneModifiers[modifierName] = modifierFunction;\n  }\n\n  registerAnimation(animationName, animationProps) {\n    this._animations[animationName] = animationProps;\n  }\n\n  addScrollListener(listener) {\n    // This content scene is used to update scroll progress when a scroll listener is added\n    if (!this._contentScene) {\n      this._contentScene = new ScrollScene({\n        triggerElement: this._content,\n        triggerHook: 'onLeave',\n        duration: this._content.offsetHeight\n      });\n\n      if (this._options.addIndicators) {\n        this._contentScene.addIndicators({ name: 'content' });\n      }\n\n      this._controller.addScene(this._contentScene);\n    }\n\n    this._contentScene.on('progress', () => {\n      const contentHeight = this._content.offsetHeight;\n      const containerHeight = this._container.offsetHeight;\n      const currentPos = this._controller.getScrollPos();\n\n      let progress = currentPos/(contentHeight - containerHeight);\n\n      if (progress < 0) {\n        progress = 0;\n      }\n\n      if (progress > 1) {\n        progress = 1;\n      }\n\n      listener(progress);\n    });\n  }\n\n  smoothScrolling(newSmoothScrolling) {\n    if (!arguments.length) {\n      return this._smoothScrolling;\n    } else {\n      this._controller.smoothScrolling(newSmoothScrolling);\n      this._rebuild();\n    }\n  }\n\n  _rebuild() {\n    setTimeout(() => {\n      this._resetScenes();\n      this._buildParallaxScenes();\n      this._buildScenes();\n    }, 0);\n  }\n\n  _buildScenes() {\n    const domScenes = this._container.querySelectorAll('[data-scene]');\n\n    domScenes.forEach(domScene => {\n\n      const isEnabled = eval(this._helper.getSceneProperty(domScene, 'enabled', this._defaults.scene.enabled));\n\n      if (isEnabled) {\n\n        let scene = new ScrollScene({\n          triggerElement: this._helper.getSceneProperty(domScene, 'trigger', domScene),\n          triggerHook: this._helper.getSceneProperty(domScene, 'hook', this._defaults.scene.triggerHook),\n          duration: this._helper.getSceneProperty(domScene, 'duration', this._defaults.scene.duration),\n          reverse: eval(this._helper.getSceneProperty(domScene, 'reverse', this._defaults.scene.reverse))\n        });\n\n        const indicator = this._helper.getSceneProperty(domScene, 'indicator', this._defaults.scene.indicator);\n        if (indicator) {\n          scene.addIndicators({ name: indicator });\n        }\n\n        const classToggle = this._helper.getSceneProperty(domScene, 'class-toggle', this._defaults.scene.classToggle);\n        const pin = this._helper.getSceneProperty(domScene, 'pin', this._defaults.scene.pin);\n        const modifierName = this._helper.getSceneProperty(domScene, 'scene', this._defaults.scene.modifierName);\n\n        if (classToggle) {\n          scene.setClassToggle(domScene, classToggle);\n        } else if (pin) {\n          scene.setPin(domScene);\n        } else if (modifierName) {\n            scene = this._applySceneModifier(modifierName, scene, domScene);\n        } else {\n          this._createAnimation(scene, domScene);\n        }\n\n        this._controller.addScene(scene);\n        this._scenes.push(scene);\n      }\n    });\n  }\n\n  _createAnimation(scene, domScene) {\n    let tween = new TimelineMax().add('start');\n\n    const domElements = domScene.querySelectorAll('[data-animate]');\n\n    domElements.forEach(domElement => {\n\n      const animation = this._helper.getAnimationProperty(domElement, 'animate', this._defaults.animation.name);\n\n      const animationProps = {\n        autoAlpha: {\n          from: this._helper.getAnimationProperty(domElement, 'from-alpha', this._defaults.animation.alpha.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-alpha', this._defaults.animation.alpha.to)\n        },\n        x: {\n          from: this._helper.getAnimationProperty(domElement, 'from-x', this._defaults.animation.x.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-x', this._defaults.animation.x.to)\n        },\n        y: {\n          from: this._helper.getAnimationProperty(domElement, 'from-y', this._defaults.animation.y.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-y', this._defaults.animation.y.to)\n        },\n        xPercent: {\n          from: this._helper.getAnimationProperty(domElement, 'from-x-percent', this._defaults.animation.xPercent.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-x-percent', this._defaults.animation.xPercent.to)\n        },\n        yPercent: {\n          from: this._helper.getAnimationProperty(domElement, 'from-y-percent', this._defaults.animation.yPercent.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-y-percent', this._defaults.animation.yPercent.to)\n        },\n        scale: {\n          from: this._helper.getAnimationProperty(domElement, 'from-scale', this._defaults.animation.scale.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-scale', this._defaults.animation.scale.to)\n        },\n        rotation: {\n          from: this._helper.getAnimationProperty(domElement, 'from-rotation', this._defaults.animation.rotation.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-rotation', this._defaults.animation.rotation.to)\n        },\n        rotationX: {\n          from: this._helper.getAnimationProperty(domElement, 'from-rotation-x', this._defaults.animation.rotationX.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-rotation-x', this._defaults.animation.rotationX.to)\n        },\n        rotationY: {\n          from: this._helper.getAnimationProperty(domElement, 'from-rotation-y', this._defaults.animation.rotationY.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-rotation-y', this._defaults.animation.rotationY.to)\n        },\n        skewX: {\n          from: this._helper.getAnimationProperty(domElement, 'from-skew-x', this._defaults.animation.skewX.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-skew-x', this._defaults.animation.skewX.to)\n        },\n        skewY: {\n          from: this._helper.getAnimationProperty(domElement, 'from-skew-y', this._defaults.animation.skewY.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-skew-y', this._defaults.animation.skewY.to)\n        },\n        width: {\n          from: this._helper.getAnimationProperty(domElement, 'from-width', this._defaults.animation.width.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-width', this._defaults.animation.width.to)\n        },\n        height: {\n          from: this._helper.getAnimationProperty(domElement, 'from-height', this._defaults.animation.height.from),\n          to: this._helper.getAnimationProperty(domElement, 'to-height', this._defaults.animation.height.to)\n        }\n      };\n\n      // Can be set by data-* attributes ONLY\n      const delay = eval(this._helper.getAnimationProperty(domElement, 'delay', this._defaults.animation.delay));\n      const label = this._helper.getAnimationProperty(domElement, 'label', this._defaults.animation.label);\n      const onClass = this._helper.getAnimationProperty(domElement, 'on-class', this._defaults.animation.onClass);\n\n      // Can be set by data-* attribute AND modified by registered animation\n      let transition = this._helper.getAnimationProperty(domElement, 'transition', this._defaults.animation.transition);\n      let position = this._helper.getAnimationProperty(domElement, 'position', this._defaults.animation.position);\n\n      // Can be set by data-* attribute OR registered animation\n      let fromProps, toProps, extraProps, duration, stagger;\n\n      // Retrieve registered animation\n      if (animation) {\n        if (!this._animations[animation]) {\n          console.error(`[ScrollView] Can\\'t find animation \"${animation}\". You need to register it.`);\n          return;\n        }\n\n        fromProps = this._animations[animation].from;\n        toProps = this._animations[animation].to;\n        extraProps = {\n          ease: this._animations[animation].ease,\n          repeat: this._animations[animation].repeat,\n          yoyo: this._animations[animation].yoyo,\n          transformOrigin: this._animations[animation].transformOrigin\n        };\n        duration = this._animations[animation].duration;\n        stagger = this._animations[animation].stagger;\n        transition = this._animations[animation].transition || transition;\n        position = this._animations[animation].position || position;\n      }\n      // Build animation from DOM attributes\n      else {\n        fromProps = this._buildState('from', animationProps);\n        toProps = this._buildState('to', animationProps);\n        extraProps = {\n          ease: eval(this._helper.getAnimationProperty(domElement, 'ease', this._defaults.animation.ease)),\n          repeat: eval(this._helper.getAnimationProperty(domElement, 'repeat', this._defaults.animation.repeat)),\n          yoyo: eval(this._helper.getAnimationProperty(domElement, 'yoyo', this._defaults.animation.yoyo)),\n          transformOrigin: this._helper.getAnimationProperty(domElement, 'transform-origin', this._defaults.animation.transformOrigin)\n        };\n        duration = this._helper.getAnimationProperty(domElement, 'duration', this._defaults.animation.duration);\n        stagger = this._helper.getAnimationProperty(domElement, 'stagger', this._defaults.animation.stagger);\n      }\n\n      if (delay) {\n        tween.delay(delay);\n      }\n\n      if (onClass) {\n        tween.add(() => {\n          tween.pause();\n          new ClassWatcher(domElement, onClass, () => tween.play());\n        });\n      }\n\n      let hasProperties = fromProps || toProps;\n      if (hasProperties) {\n        if (stagger) {\n          if (fromProps && toProps) {\n            tween.staggerFromTo(domElement.children, duration, fromProps, Object.assign(toProps, extraProps), stagger, position);\n          }\n          else if (fromProps) {\n            tween.staggerFrom(domElement.children, duration, Object.assign(fromProps, extraProps), stagger, position);\n          }\n          else {\n            tween.staggerTo(domElement.children, duration, Object.assign(toProps, extraProps), stagger, position);\n          }\n          this._domElements.push(domElement.children);\n        } else {\n          if (fromProps && toProps) {\n            tween.fromTo(domElement, duration, fromProps, Object.assign(toProps, extraProps), position);\n          }\n          else if (fromProps) {\n            tween.from(domElement, duration, Object.assign(fromProps, extraProps), position);\n          }\n          else {\n            tween.to(domElement, duration, Object.assign(toProps, extraProps), position);\n          }\n          this._domElements.push(domElement);\n        }\n      }\n\n      if (label) {\n        tween.add(label);\n      }\n\n      if (transition) {\n        domElement.style.transition = transition;\n      }\n    });\n\n    scene.setTween(tween);\n\n    this._tweens.push(tween);\n  }\n\n  // TODO: Refactor this. Custom scenes must be implemented outside ScrollView and applied here\n  /**\n   * A modifier must be registered in the scroll view in order to be applied.\n   * \n   * As data-* attributes can't cover eveything we want to do with scenes, we can apply custom behavior\n   * to it through scene modifiers.\n   * \n   * @param {*} modifierName\n   * @param {*} scene\n   * @param {*} domScene\n   */\n  _applySceneModifier(modifierName, scene, domScene) {\n    const modifierFunction = this._sceneModifiers[modifierName];\n    if (modifierFunction) {\n      const modifier = modifierFunction(domScene);\n\n      if (modifier.tween !== undefined) {\n        let tween = new TimelineMax().add(modifier.tween);\n\n        scene.setTween(tween);\n        this._tweens.push(tween);\n      }\n\n      if (modifier.duration !== undefined) {\n        scene.duration(modifier.duration);\n      }\n\n      if (modifier.triggerHook !== undefined) {\n        scene.triggerHook(modifier.triggerHook);\n      }\n\n      if (modifier.onEnter !== undefined) {\n        scene.on('enter', modifier.onEnter);\n      }\n\n      if (modifier.onProgress !== undefined) {\n        scene.on('progress', modifier.onProgress);\n      }\n\n      if (modifier.offset !== undefined) {\n        scene.offset(modifier.offset);\n      }\n\n      if (modifier.pin !== undefined) {\n        scene.setPin(modifier.pin);\n      }\n\n      if (modifier.reverse !== undefined) {\n        scene.reverse(modifier.reverse);\n      }\n\n      this._domElements.push(domScene);\n    }\n    return scene;\n  }\n\n  _buildParallaxScenes() {\n    const globalItems = [];\n    const sceneItems = [];\n\n    const domElements = this._container.querySelectorAll('[data-parallax]');\n\n    domElements.forEach(domElement => {\n\n      const isEnabled = eval(this._helper.getParallaxProperty(domElement, 'enabled', this._defaults.parallax.enabled));\n\n      if (isEnabled) {\n        const speed = this._helper.getParallaxProperty(domElement, 'speed', this._defaults.parallax.speed);\n        const momentum = this._helper.getParallaxProperty(domElement, 'momentum', this._defaults.parallax.momentum);\n        const stagger = this._helper.getParallaxProperty(domElement, 'stagger', this._defaults.parallax.stagger);\n        const ease = eval(this._helper.getParallaxProperty(domElement, 'ease', this._defaults.parallax.ease));\n\n        let item = {\n          domElement: domElement,\n          speed: speed,\n          momentum: momentum,\n          stagger: stagger,\n          ease: ease\n        };\n\n        const parallaxType = this._helper.getParallaxProperty(domElement, 'parallax', this._defaults.parallax.type);\n\n        // Global items\n        if (parallaxType === 'global') {\n          globalItems.push(item);\n        }\n        // Scene items\n        else if (parallaxType === 'scene') {\n          const trigger = this._helper.getParallaxProperty(domElement, 'trigger', this._defaults.parallax.trigger);\n          const duration = this._helper.getParallaxProperty(domElement, 'duration', this._defaults.parallax.duration);\n          const offset = this._helper.getParallaxProperty(domElement, 'offset', this._defaults.parallax.offset);\n          const hook = this._helper.getParallaxProperty(domElement, 'hook', this._defaults.parallax.hook);\n          const indicator = this._helper.getParallaxProperty(domElement, 'indicator', this._defaults.parallax.indicator);\n\n          item = Object.assign(item, {\n            trigger: trigger,\n            duration: duration,\n            offset: offset,\n            hook: hook,\n            indicator: indicator\n          });\n\n          sceneItems.push(item);\n        }\n      } else {\n        TweenMax.set(domElement, { clearProps: 'all' });\n      }\n    });\n\n    if (globalItems.length > 0) {\n      this._buildGlobalParallax(globalItems);\n    }\n\n    if (sceneItems.length > 0) {\n      this._buildScenesParallax(sceneItems);\n    }\n  }\n\n  _buildGlobalParallax(items) {\n    const scene = new ScrollScene({\n      triggerElement: this._content,\n      triggerHook: 'onLeave',\n      duration: this._content.offsetHeight\n    })\n    .on('update', () => this._updateParallaxItems(items, this._controller.getScrollPos()));\n\n    this._scenes.push(scene);\n    this._controller.addScene(scene);\n  }\n\n  _buildScenesParallax(items) {\n    items.forEach(item => {\n      let during = false;\n\n      const scene = new ScrollScene({\n        triggerElement: item.trigger,\n        triggerHook: item.hook,\n        duration: item.duration,\n        offset: item.offset\n      })\n      .on('update', e => {\n        if (during) {\n          const progress = (function () {\n            const p = (e.scrollPos - e.startPos)/(e.endPos - e.startPos);\n            return p < 0 ? 0 : (p > 1 ? 1 : p);\n          })();\n\n          const delta = scene.duration() * progress;\n\n          this._updateParallaxItems([item], delta);\n        }\n      })\n      .on('enter', () => during = true)\n      .on('leave', () => during = false);\n\n      if (item.indicator) {\n        scene.addIndicators({ name: item.indicator });\n      }\n\n      this._domElements.push(item.domElement);\n  \n      this._scenes.push(scene);\n      this._controller.addScene(scene);\n    });\n  }\n\n  _updateParallaxItems(items, offsetY) {\n    items.forEach(item => {\n      if (item.stagger) {\n        TweenMax.staggerTo(item.domElement.children, item.momentum, {\n          y: offsetY/item.speed,\n          ease: item.ease\n        }, item.stagger);\n      } else {\n        if (item.momentum > 0) {\n          TweenMax.to(item.domElement, item.momentum, {\n            y: offsetY/item.speed,\n            ease: item.ease\n          });\n        } else {\n          TweenMax.set(item.domElement, {\n            y: offsetY/item.speed\n          });\n        }\n      }\n    });\n  }\n\n  _resetScenes() {\n    this._tweens.forEach(tween => tween.clear());\n\n    this._scenes.forEach(scene => {\n      scene.removePin(true);\n      this._controller.removeScene(scene);\n    });\n\n    // TODO: Check if it breaks anything when not using in parallax elements\n    this._domElements.forEach(domElement => {\n      TweenMax.killTweensOf(domElement);\n    });\n\n    TweenMax.set(this._domElements, {\n      clearProps: 'all'\n    });\n\n    this._tweens = [];\n    this._scenes = [];\n    this._domElements = [];\n  }\n\n  _buildState(stateKey, properties) {\n    let state;\n    Object.keys(properties).forEach(key => {\n      if (properties[key][stateKey] !== null) {\n        if (!state) {\n          state = {};\n        }\n        state[key] = properties[key][stateKey];\n      }\n    });\n    return state;\n  }\n};\n\nexport default ScrollView;\n","/**\n * BreakpointListener\n * \n * Provide information when screen size changes from/to several breakpoints.\n * \n * @param {function} callback\n * @param {json} breakpoints\n */\nexport class BreakpointListener {\n  constructor(callback, breakpoints) {\n    this.screenSize = null;\n    this.windowWidth = window.innerWidth;\n    this.timeout = null;\n\n    this.checkView = () => {\n      let keys = Object.keys(breakpoints);\n\n      let screenSize = keys.slice(-1)[0];\n\n      for (let i=keys.length-1; i >= 0; i--) {\n        let value = breakpoints[keys[i]];\n        if (this.windowWidth < value) {\n          screenSize = keys[i-1] || 'xs';\n        }\n      }\n\n      let hasChanged = this.screenSize !== screenSize;\n\n      this.screenSize = screenSize;\n\n      callback({\n        screenSize: this.screenSize,\n        hasChanged: hasChanged\n      });\n    };\n\n    this.listener = () => {\n      if (this.windowWidth !== window.innerWidth) {\n        this.windowWidth = window.innerWidth;\n    \n        if (this.timeout) {\n          clearTimeout(this.timeout);\n        }\n    \n        this.timeout = setTimeout(this.checkView, 250);\n      }\n    };\n  \n    window.addEventListener('resize', this.listener);\n\n    this.checkView();\n  }\n};\n\n/**\n * PropertyHelper\n * \n * Retrieve property values from data-* attributes according to the screen width.\n * \n * @param {json} breakpoints\n */\nexport class PropertyHelper {\n  constructor(breakpoints) {\n    this._breakpoints = breakpoints ? breakpoints : {\n      'sm': 576,\n      'md': 768,\n      'lg': 992,\n      'xl': 1200,\n      'xxl': 1600\n    };\n  }\n\n  breakpoints(newValue) {\n    if (!arguments.length) {\n      return this._breakpoints;\n    } else {\n      this._breakpoints = newValue;\n    }\n  }\n\n  // TODO: Improve this to be independent from breakpoints, maybe using a recursive function\n  getDataProperty(type, item, property, defaultValue) {\n    const screenWidth = window.innerWidth;\n\n    const key = property === type ? type : `${type}-${property}`;\n\n    // xs\n    if (screenWidth < this._breakpoints['sm']) {\n      return item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // sm\n    else if (screenWidth < this._breakpoints['md']) {\n      return item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // md\n    else if (screenWidth < this._breakpoints['lg']) {\n      return item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // lg\n    else if (screenWidth < this._breakpoints['xl']) {\n      return item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // xl\n    else if (screenWidth < this._breakpoints['xxl']) {\n      return item.getAttribute(`data-xl-${key}`) ||\n            item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n    // xxl\n    else {\n      return item.getAttribute(`data-xxl-${key}`) ||\n            item.getAttribute(`data-xl-${key}`) ||\n            item.getAttribute(`data-lg-${key}`) ||\n            item.getAttribute(`data-md-${key}`) ||\n            item.getAttribute(`data-sm-${key}`) ||\n            item.getAttribute(`data-xs-${key}`) ||\n            item.getAttribute(`data-${key}`) ||\n            defaultValue;\n    }\n  };\n\n  getParallaxProperty(item, property, defaultValue) {\n    return this.getDataProperty('parallax', item, property, defaultValue);\n  }\n\n  getSceneProperty(item, property, defaultValue) {\n    return this.getDataProperty('scene', item, property, defaultValue);\n  }\n\n  getAnimationProperty(item, property, defaultValue) {\n    return this.getDataProperty('animate', item, property, defaultValue);\n  }\n};\n\n/**\n * Class Watcher\n * \n * Wait for class before running callback.\n * \n * @param {node} domElement\n * @param {string} className\n * @param {function} callback\n */\nexport class ClassWatcher {\n  constructor(domElement, className, callback) {\n    if (domElement.classList.contains(className)) {\n      callback();\n    } else {\n      const observer = new MutationObserver(mutationsList => {\n        for(let mutation of mutationsList) {\n          if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n            if (mutation.target.classList.contains(className)) {\n              callback();\n\n              observer.disconnect();\n            }\n            break;\n          }\n        }\n      });\n      observer.observe(domElement, { attributes: true });\n    }\n  }\n};\n\n/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n};\n\n/**\n * Deep merge two objects.\n * @param {json} target\n * @param {json} sources\n * @returns {json}\n */\nexport function mergeDeep(target, source) {\n  let output = Object.assign({}, target);\n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach(key => {\n      if (isObject(source[key])) {\n        if (!(key in target))\n          Object.assign(output, { [key]: source[key] });\n        else\n          output[key] = mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n  }\n  return output;\n};\n","// Based on utils from https://blog.garstasio.com/you-dont-need-jquery/utils/\nconst data = window.WeakMap ? new WeakMap() : (function () {\n  let lastId = 0,\n      store = {};\n\n  return {\n      set: function(element, info) {\n          let id;\n          if (element.myCustomDataTag === undefined) {\n              id = lastId++;\n              element.myCustomDataTag = id;\n          }\n          store[id] = info;\n      },\n      get: function(element) {\n        return store[element.myCustomDataTag];\n      }\n  };\n}());\n\nexport function getData(el) {\n  return data.get(el);\n};\n\nexport function setData(el, obj) {\n  data.set(el, obj);\n};\n\nexport function getComponent(domElement) {\n  return getData(domElement).component;\n};\n\nexport function findComponent(componentClass) {\n  const obj = getData(document.querySelector(`[data-component=\"${componentClass.componentName}\"]`));\n  if (!obj) {\n    console.error(`[App] Couldn\\'t find instance of ${componentClass.componentName} component. Check declaration order.`);\n    return;\n  }\n  return obj.component;\n};\n\n// https://davidwalsh.name/css-animation-callback\nexport function whichAnimationEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let animations = {\n    'animation': 'animationend',\n    'OAnimation': 'oAnimationEnd',\n    'MozAnimation': 'animationend',\n    'WebkitAnimation': 'webkitAnimationEnd'\n  };\n\n  for (t in animations) {\n    if (el.style[t] !== undefined) {\n      return animations[t];\n    }\n  }\n};\n\nexport function whichTransitionEvent() {\n  let t,\n      el = document.createElement('fakeelement');\n\n  let transitions = {\n    'transition': 'transitionend',\n    'OTransition': 'oTransitionEnd',\n    'MozTransition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd'\n  };\n\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n};\n\nexport function getRandom(min, max) {\n  return Math.random() * (max - min) + min;\n};\n\nexport class Timer {\n  constructor(callback, delay) {\n    let timerId, start, remaining = delay;\n\n    this.pause = function () {\n      window.clearTimeout(timerId);\n      remaining -= new Date() - start;\n    };\n\n    let resume = function () {\n      start = new Date();\n      timerId = window.setTimeout(function () {\n        remaining = delay;\n        resume();\n        callback();\n      }, remaining);\n    };\n    this.resume = resume;\n\n    this.reset = function () {\n      remaining = delay;\n    };\n\n    this.resume();\n  }\n};\n"]}