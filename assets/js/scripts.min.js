!function i(l,s,c){function a(n,e){if(!s[n]){if(!l[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[n]={exports:{}};l[n][0].call(r.exports,function(e){return a(l[n][1][e]||e)},r,r.exports,i,l,s,c)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({1:[function(require,module,exports){"use strict";var _utils=require("./utils"),_menu=_interopRequireDefault(require("./components/menu")),_scrollController=_interopRequireDefault(require("./components/scroll-controller")),_toggleButton=_interopRequireDefault(require("./components/toggle-button"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var App={components:[_menu.default,_scrollController.default,_toggleButton.default]};!function(){document.querySelectorAll("[data-component]").forEach(function(el){var names=el.getAttribute("data-component").split(",");names.forEach(function(name){var component=App.components.find(function(e){return e.componentName===name});if(!component)return console.error('[App] Component "'.concat(name,'" is not defined')),!1;var existing=(0,_utils.getData)(el)&&(0,_utils.getData)(el).loadedComponents;if(existing||(existing=[],(0,_utils.setData)(el,{loadedComponents:existing})),name in(0,_utils.getData)(el).loadedComponents)console.debug('[App] Component "'.concat(name,'" already loaded'));else{var options;try{options=eval("("+el.getAttribute("data-component-options")+")")||{}}catch(e){options={}}var Constructor=component,obj=new Constructor(el,options);existing.push(name),(0,_utils.setData)(el,{component:obj}),console.debug('[App] Component "'.concat(name,'" loaded.'))}})})}()},{"./components/menu":2,"./components/scroll-controller":3,"./components/toggle-button":4,"./utils":8}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,i=e("../decorators"),l=e("../utils"),s=(o=e("./scroll-controller"))&&o.__esModule?o:{default:o};var c=(0,i.component)("menu")(r=function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var t=(0,l.findComponent)(s.default);if(t){var o=n.querySelectorAll('a[href^="#"]');t.bindAnchors(o)}})||r;t.default=c},{"../decorators":5,"../utils":8,"./scroll-controller":3}],3:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("../decorators");s(e("scrollmagic"));e("scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators"),e("scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap");var r,i=s(e("../scroll/controller")),l=s(e("../scroll/scene"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=(0,o.component)("scrollController")(r=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.controller=new i.default({container:e,smoothScrolling:!1,addIndicators:!0}),this.controller.addScene(new l.default({triggerElement:"#section1",duration:"100%"}).setTween(".square",{x:200}))}return function(e,n,t){n&&c(e.prototype,n),t&&c(e,t)}(n,[{key:"bindAnchors",value:function(e){this.controller.bindAnchors(e)}},{key:"toggleSmoothScrolling",value:function(){this.controller.hasSmoothScrolling()?this.controller.initCommonScrolling():this.controller.initSmoothScrolling()}},{key:"hasSmoothScrolling",value:function(){return this.controller.hasSmoothScrolling()}}]),n}())||r;t.default=a},{"../decorators":5,"../scroll/controller":6,"../scroll/scene":7,scrollmagic:"scrollmagic","scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap":"scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap","scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators":"scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators"}],4:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r,i=e("../decorators"),l=e("../utils"),s=(o=e("./scroll-controller"))&&o.__esModule?o:{default:o};function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=(0,i.component)("toggleButton")(r=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.element=e,this.element.addEventListener("click",this.toggle.bind(this)),this.updateState()}return function(e,n,t){n&&c(e.prototype,n),t&&c(e,t)}(n,[{key:"toggle",value:function(){var e=(0,l.findComponent)(s.default);e&&(e.toggleSmoothScrolling(),this.updateState())}},{key:"updateState",value:function(){var e=(0,l.findComponent)(s.default);e&&(e.hasSmoothScrolling()?(this.element.querySelector("span").innerText="On",this.element.querySelector("span").classList.remove("off"),this.element.querySelector("span").classList.add("on")):(this.element.querySelector("span").innerText="Off",this.element.querySelector("span").classList.remove("on"),this.element.querySelector("span").classList.add("off")))}}]),n}())||r;t.default=a},{"../decorators":5,"../utils":8,"./scroll-controller":3}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.component=function(n){return function(e){e.componentName=n}}},{}],6:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(e("smooth-scrollbar")),r=l(e("scrollmagic"));e("scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators"),e("scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap"),e("gsap/ScrollToPlugin");var i=l(e("./scene"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.element=e.container||window,this.options=e,this.scenes=[],this.options.smoothScrolling?this.initSmoothScrolling():this.initCommonScrolling()}return function(e,n,t){n&&s(e.prototype,n),t&&s(e,t)}(n,[{key:"initCommonScrolling",value:function(){console.log("[Controller] Removed smooth scrolling"),this.smoothScrolling=!1,this._removeAllScenes(),this._destroyController(),delete this.options.smoothScrolling,this.controller=new r.default.Controller(this.options),this.controller.scrollTo(function(e){TweenMax.to(this,2,{scrollTo:{y:e},ease:Power4.easeOut})}),this._removeScrollbars(),this._addAllScenes()}},{key:"initSmoothScrolling",value:function(){console.log("[Controller] Added smooth scrolling"),this.smoothScrolling=!0,this._removeAllScenes(),this._destroyController(),delete this.options.smoothScrolling,this.controller=new r.default.Controller(Object.assign(this.options,{refreshInterval:0})),this._createScrollbars(),this._addAllScenes()}},{key:"bindAnchors",value:function(e){var o=this;e.forEach(function(e){e.addEventListener("click",function(e){var n=e.currentTarget.getAttribute("href");if(0<n.length)if(e.preventDefault(),o.hasSmoothScrolling()){var t=o.element.querySelector(n);t&&o.scrollbar.scrollIntoView(t)}else o.controller.scrollTo(n)});var n=e.getAttribute("href"),t=o.element.querySelector(n);o.addScene(new i.default({triggerElement:t,triggerHook:"onLeave",duration:t.offsetHeight}).on("enter",function(){return e.classList.add("is-active")}).on("leave",function(){return e.classList.remove("is-active")}))})}},{key:"addScene",value:function(e){e.addTo(this),this.scenes.push(e)}},{key:"removeScene",value:function(n){n.remove(),this.scenes=this.scenes.filter(function(e){return e!==n})}},{key:"hasSmoothScrolling",value:function(){return this.smoothScrolling}},{key:"_createScrollbars",value:function(){this.scrollbar=o.default.init(this.element,{damping:.05}),this.scrollbar.addListener(this._refreshScenes.bind(this))}},{key:"_removeScrollbars",value:function(){this.scrollbar&&(this.scrollbar.removeListener(this._refreshScenes.bind(this)),this.scrollbar.destroy())}},{key:"_addAllScenes",value:function(){var n=this;this.scenes.forEach(function(e){return e.addTo(n)})}},{key:"_removeAllScenes",value:function(){this.scenes.forEach(function(e){return e.remove()})}},{key:"_refreshScenes",value:function(){this.scenes.forEach(function(e){return e.refresh()})}},{key:"_destroyController",value:function(){this.controller&&this.controller.destroy(!0)}}]),n}();t.default=c},{"./scene":7,"gsap/ScrollToPlugin":"gsap/ScrollToPlugin",scrollmagic:"scrollmagic","scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap":"scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap","scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators":"scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators","smooth-scrollbar":"smooth-scrollbar"}],7:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=(o=e("scrollmagic"))&&o.__esModule?o:{default:o};function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function n(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=e,this.controller=null,this.scene=new r.default.Scene(this.options),this}return function(e,n,t){n&&i(e.prototype,n),t&&i(e,t)}(n,[{key:"setTween",value:function(e,n,t){return 1<arguments.length&&(arguments.length<3&&(t=n,n=1),e=TweenMax.to(e,n,t)),this.scene.setTween(e),this}},{key:"setClassToggle",value:function(e,n){return this.scene.setClassToggle(e,n),this}},{key:"setPin",value:function(e){return this.pinnedElement=e,this}},{key:"on",value:function(e,n){return this.scene.on(e,n),this}},{key:"addIndicators",value:function(e){return this.scene.addIndicators(e),this}},{key:"addTo",value:function(e){return this.controller=e,this.scene.addTo(e.controller),this}},{key:"remove",value:function(){return this.scene.remove(),this.controller=null,this}},{key:"triggerElement",value:function(e){return this.scene.triggerElement(e),this}},{key:"duration",value:function(e){return this.scene.duration(e),this}},{key:"refresh",value:function(){return this.scene.refresh(),this}}]),n}();t.default=l},{scrollmagic:"scrollmagic"}],8:[function(e,n,t){"use strict";function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.getData=l,t.setData=function(e,n){i.set(e,n)},t.getComponent=function(e){return l(e).component},t.findComponent=function(e){var n=l(document.querySelector('[data-component="'.concat(e.componentName,'"]')));return n?n.component:void console.error("[App] Couldn't find instance of ".concat(e.componentName," component. Check declaration order."))},t.whichAnimationEvent=function(){var e,n=document.createElement("fakeelement"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in t)if(void 0!==n.style[e])return t[e]},t.whichTransitionEvent=function(){var e,n=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(void 0!==n.style[e])return t[e]},t.getRandom=function(e,n){return Math.random()*(n-e)+e},t.Timer=t.BreakpointListener=void 0;var o,r,i=window.WeakMap?new WeakMap:(o=0,r={},{set:function(e,n){var t;void 0===e.myCustomDataTag&&(t=o++,e.myCustomDataTag=t),r[t]=n},get:function(e){return r[e.myCustomDataTag]}});function l(e){return i.get(e)}t.BreakpointListener=function e(i,l){var s=this;c(this,e),this.screenSize=null,this.windowWidth=window.innerWidth,this.timeout=null,this.checkView=function(){for(var e=Object.keys(l),n=e.slice(-1)[0],t=e.length-1;0<=t;t--){var o=l[e[t]];s.windowWidth<o&&(n=e[t-1]||"xs")}var r=s.screenSize!==n;s.screenSize=n,i({screenSize:s.screenSize,hasChanged:r})},this.listener=function(){s.windowWidth!==window.innerWidth&&(s.windowWidth=window.innerWidth,s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.checkView,250))},window.addEventListener("resize",this.listener),this.checkView()};t.Timer=function e(n,t){c(this,e);var o,r,i=t;this.pause=function(){window.clearTimeout(o),i-=new Date-r};this.resume=function e(){r=new Date,o=window.setTimeout(function(){i=t,e(),n()},i)},this.reset=function(){i=t},this.resume()}},{}]},{},[1]);
//# sourceMappingURL=scripts.min.js.map
